(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4124],{93174:function(e){e.exports=(function r(e,t,n){function o(a,s){if(!t[a]){if(!e[a]){if(i)return i(a,!0);var c=Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=t[a]={exports:{}};e[a][0].call(d.exports,function(t){return o(e[a][1][t]||t)},d,d.exports,r,e,t,n)}return t[a].exports}for(var i=void 0,a=0;a<n.length;a++)o(n[a]);return o})({1:[function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.PromiseGlobal=void 0;var a=i(e("promise-polyfill")),s="undefined"!=typeof Promise?Promise:a.default;n.PromiseGlobal=s},{"promise-polyfill":32}],2:[function(e,t,n){"use strict";var i=e("./lib/promise"),a={};function loadScript(e){var t,n=JSON.stringify(e);if(!e.forceScriptReload&&(t=a[n]))return t;var s=document.createElement("script"),c=e.dataAttributes||{},d=e.container||document.head;return s.src=e.src,s.id=e.id||"",s.async=!0,e.crossorigin&&s.setAttribute("crossorigin",""+e.crossorigin),Object.keys(c).forEach(function(e){s.setAttribute("data-"+e,""+c[e])}),t=new i.PromiseGlobal(function(t,n){s.addEventListener("load",function(){t(s)}),s.addEventListener("error",function(){n(Error(e.src+" failed to load."))}),s.addEventListener("abort",function(){n(Error(e.src+" has aborted."))}),d.appendChild(s)}),a[n]=t,t}loadScript.clearCache=function(){a={}},t.exports=loadScript},{"./lib/promise":1}],3:[function(e,t,n){t.exports=e("./dist/load-script")},{"./dist/load-script":2}],4:[function(e,t,n){"use strict";var i=function(){function EventEmitter(){this._events={}}return EventEmitter.prototype.on=function(e,t){this._events[e]?this._events[e].push(t):this._events[e]=[t]},EventEmitter.prototype.off=function(e,t){var n=this._events[e];if(n){var i=n.indexOf(t);n.splice(i,1)}},EventEmitter.prototype._emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this._events[e];i&&i.forEach(function(e){e.apply(void 0,t)})},EventEmitter.prototype.hasListener=function(e){var t=this._events[e];return!!t&&t.length>0},EventEmitter.createChild=function(e){e.prototype=Object.create(EventEmitter.prototype,{constructor:e})},EventEmitter}();t.exports=i},{}],5:[function(e,t,n){"use strict";var i="undefined"!=typeof Promise?Promise:null,a=function(){function ExtendedPromise(e){var t=this;if("function"==typeof e){this._promise=new ExtendedPromise.Promise(e);return}this._promise=new ExtendedPromise.Promise(function(e,n){t._resolveFunction=e,t._rejectFunction=n}),e=e||{},this._onResolve=e.onResolve||ExtendedPromise.defaultOnResolve,this._onReject=e.onReject||ExtendedPromise.defaultOnReject,ExtendedPromise.shouldCatchExceptions(e)&&this._promise.catch(function(){}),this._resetState()}return ExtendedPromise.defaultOnResolve=function(e){return ExtendedPromise.Promise.resolve(e)},ExtendedPromise.defaultOnReject=function(e){return ExtendedPromise.Promise.reject(e)},ExtendedPromise.setPromise=function(e){ExtendedPromise.Promise=e},ExtendedPromise.shouldCatchExceptions=function(e){return e.hasOwnProperty("suppressUnhandledPromiseMessage")?!!e.suppressUnhandledPromiseMessage:!!ExtendedPromise.suppressUnhandledPromiseMessage},ExtendedPromise.all=function(e){return ExtendedPromise.Promise.all(e)},ExtendedPromise.allSettled=function(e){return ExtendedPromise.Promise.allSettled(e)},ExtendedPromise.race=function(e){return ExtendedPromise.Promise.race(e)},ExtendedPromise.reject=function(e){return ExtendedPromise.Promise.reject(e)},ExtendedPromise.resolve=function(e){return ExtendedPromise.Promise.resolve(e)},ExtendedPromise.prototype.then=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).then.apply(e,t)},ExtendedPromise.prototype.catch=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._promise).catch.apply(e,t)},ExtendedPromise.prototype.resolve=function(e){var t=this;return this.isFulfilled||(this._setResolved(),ExtendedPromise.Promise.resolve().then(function(){return t._onResolve(e)}).then(function(e){t._resolveFunction(e)}).catch(function(e){t._resetState(),t.reject(e)})),this},ExtendedPromise.prototype.reject=function(e){var t=this;return this.isFulfilled||(this._setRejected(),ExtendedPromise.Promise.resolve().then(function(){return t._onReject(e)}).then(function(e){t._setResolved(),t._resolveFunction(e)}).catch(function(e){return t._rejectFunction(e)})),this},ExtendedPromise.prototype._resetState=function(){this.isFulfilled=!1,this.isResolved=!1,this.isRejected=!1},ExtendedPromise.prototype._setResolved=function(){this.isFulfilled=!0,this.isResolved=!0,this.isRejected=!1},ExtendedPromise.prototype._setRejected=function(){this.isFulfilled=!0,this.isResolved=!1,this.isRejected=!0},ExtendedPromise.Promise=i,ExtendedPromise}();t.exports=a},{}],6:[function(e,t,n){"use strict";var i=e("./lib/set-attributes"),a=e("./lib/default-attributes"),s=e("./lib/assign");t.exports=function(e){void 0===e&&(e={});var t=document.createElement("iframe"),n=s.assign({},a.defaultAttributes,e);return n.style&&"string"!=typeof n.style&&(s.assign(t.style,n.style),delete n.style),i.setAttributes(t,n),t.getAttribute("id")||(t.id=t.name),t}},{"./lib/assign":7,"./lib/default-attributes":8,"./lib/set-attributes":9}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.assign=void 0,n.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){"object"==typeof t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}},{}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.defaultAttributes=void 0,n.defaultAttributes={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setAttributes=void 0,n.setAttributes=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];null==i?e.removeAttribute(n):e.setAttribute(n,i)}}},{}],10:[function(e,t,n){"use strict";t.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},{}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.deferred=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];setTimeout(function(){try{e.apply(void 0,t)}catch(e){console.log("Error in callback function"),console.log(e)}},1)}}},{}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.once=function(e){var t=!1;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];t||(t=!0,e.apply(void 0,n))}}},{}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.promiseOrCallback=function(e,t){if(!t)return e;e.then(function(e){return t(null,e)}).catch(function(e){return t(e)})}},{}],14:[function(e,t,n){"use strict";var i=e("./lib/deferred"),a=e("./lib/once"),s=e("./lib/promise-or-callback");function wrapPromise(e){return function(){for(var t,n=[],c=0;c<arguments.length;c++)n[c]=arguments[c];return"function"==typeof n[n.length-1]&&(t=n.pop(),t=a.once(i.deferred(t))),s.promiseOrCallback(e.apply(this,n),t)}}wrapPromise.wrapPrototype=function(e,t){void 0===t&&(t={});var n=t.ignoreMethods||[],i=!0===t.transformPrivateMethods;return Object.getOwnPropertyNames(e.prototype).filter(function(t){var a,s="constructor"!==t&&"function"==typeof e.prototype[t],c=-1===n.indexOf(t);return a=!!i||"_"!==t.charAt(0),s&&a&&c}).forEach(function(t){var n=e.prototype[t];e.prototype[t]=wrapPromise(n)}),e},t.exports=wrapPromise},{"./lib/deferred":11,"./lib/once":12,"./lib/promise-or-callback":13}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Framebus=void 0;var i=e("./lib"),a="undefined"!=typeof window&&window.Promise,s=function(){function Framebus(e){void 0===e&&(e={}),this.origin=e.origin||"*",this.channel=e.channel||"",this.verifyDomain=e.verifyDomain,this.targetFrames=e.targetFrames||[],this.limitBroadcastToFramesArray=!!e.targetFrames,this.isDestroyed=!1,this.listeners=[],this.hasAdditionalChecksForOnListeners=!!(this.verifyDomain||this.limitBroadcastToFramesArray)}return Framebus.setPromise=function(e){Framebus.Promise=e},Framebus.target=function(e){return new Framebus(e)},Framebus.prototype.addTargetFrame=function(e){this.limitBroadcastToFramesArray&&this.targetFrames.push(e)},Framebus.prototype.include=function(e){return null!=e&&null!=e.Window&&e.constructor===e.Window&&(i.childWindows.push(e),!0)},Framebus.prototype.target=function(e){return Framebus.target(e)},Framebus.prototype.emit=function(e,t,n){if(this.isDestroyed)return!1;var a=this.origin;if(e=this.namespaceEvent(e),(0,i.isntString)(e)||(0,i.isntString)(a))return!1;"function"==typeof t&&(n=t,t=void 0);var s=(0,i.packagePayload)(e,a,t,n);return!!s&&(this.limitBroadcastToFramesArray?this.targetFramesAsWindows().forEach(function(e){(0,i.sendMessage)(e,s,a)}):(0,i.broadcast)(s,{origin:a,frame:window.top||window.self}),!0)},Framebus.prototype.emitAsPromise=function(e,t){var n=this;return new Framebus.Promise(function(i,a){n.emit(e,t,function(e){i(e)})||a(Error('Listener not added for "'.concat(e,'"')))})},Framebus.prototype.on=function(e,t){if(this.isDestroyed)return!1;var n=this,a=this.origin,s=t;return e=this.namespaceEvent(e),!(0,i.subscriptionArgsInvalid)(e,s,a)&&(this.hasAdditionalChecksForOnListeners&&(s=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];n.passesVerifyDomainCheck(this&&this.origin)&&n.hasMatchingTargetFrame(this&&this.source)&&t.apply(void 0,e)}),this.listeners.push({eventName:e,handler:s,originalHandler:t}),i.subscribers[a]=i.subscribers[a]||{},i.subscribers[a][e]=i.subscribers[a][e]||[],i.subscribers[a][e].push(s),!0)},Framebus.prototype.off=function(e,t){var n=t;if(this.isDestroyed)return!1;if(this.verifyDomain)for(var a=0;a<this.listeners.length;a++){var s=this.listeners[a];s.originalHandler===t&&(n=s.handler)}e=this.namespaceEvent(e);var c=this.origin;if((0,i.subscriptionArgsInvalid)(e,n,c))return!1;var d=i.subscribers[c]&&i.subscribers[c][e];if(!d)return!1;for(var a=0;a<d.length;a++)if(d[a]===n)return d.splice(a,1),!0;return!1},Framebus.prototype.teardown=function(){if(!this.isDestroyed){this.isDestroyed=!0;for(var e=0;e<this.listeners.length;e++){var t=this.listeners[e];this.off(t.eventName,t.handler)}this.listeners.length=0}},Framebus.prototype.passesVerifyDomainCheck=function(e){return!this.verifyDomain||this.checkOrigin(e)},Framebus.prototype.targetFramesAsWindows=function(){return this.limitBroadcastToFramesArray?this.targetFrames.map(function(e){return e instanceof HTMLIFrameElement?e.contentWindow:e}).filter(function(e){return e}):[]},Framebus.prototype.hasMatchingTargetFrame=function(e){return!this.limitBroadcastToFramesArray||!!this.targetFramesAsWindows().find(function(t){return t===e})},Framebus.prototype.checkOrigin=function(e){var t,n=document.createElement("a");return n.href=location.href,t="https:"===n.protocol?n.host.replace(/:443$/,""):"http:"===n.protocol?n.host.replace(/:80$/,""):n.host,n.protocol+"//"+t===e||!this.verifyDomain||this.verifyDomain(e)},Framebus.prototype.namespaceEvent=function(e){return this.channel?"".concat(this.channel,":").concat(e):e},Framebus.Promise=a,Framebus}();n.Framebus=s},{"./lib":23}],16:[function(e,t,n){"use strict";var i=e("./lib"),a=e("./framebus");(0,i.attach)(),t.exports=a.Framebus},{"./framebus":15,"./lib":23}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.detach=n.attach=void 0;var i=e("./"),a=!1;n.attach=function(){a||"undefined"==typeof window||(a=!0,window.addEventListener("message",i.onMessage,!1))},n.detach=function(){a=!1,window.removeEventListener("message",i.onMessage,!1)}},{"./":23}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.broadcastToChildWindows=void 0;var i=e("./");n.broadcastToChildWindows=function(e,t,n){for(var a=i.childWindows.length-1;a>=0;a--){var s=i.childWindows[a];s.closed?i.childWindows.splice(a,1):n!==s&&(0,i.broadcast)(e,{origin:t,frame:s.top})}}},{"./":23}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.broadcast=void 0;var i=e("./");n.broadcast=function broadcast(e,t){var n,a=0,s=t.origin,c=t.frame;try{for(c.postMessage(e,s),(0,i.hasOpener)(c)&&c.opener.top!==window.top&&broadcast(e,{origin:s,frame:c.opener.top});n=c.frames[a];)broadcast(e,{origin:s,frame:n}),a++}catch(e){}}},{"./":23}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.subscribers=n.childWindows=n.prefix=void 0,n.prefix="/*framebus*/",n.childWindows=[],n.subscribers={}},{}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.dispatch=void 0;var i=e("./");n.dispatch=function(e,t,n,a,s){if(i.subscribers[e]&&i.subscribers[e][t]){var c=[];n&&c.push(n),a&&c.push(a);for(var d=0;d<i.subscribers[e][t].length;d++)i.subscribers[e][t][d].apply(s,c)}}},{"./":23}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasOpener=void 0,n.hasOpener=function(e){return e.top===e&&null!=e.opener&&e.opener!==e&&!0!==e.opener.closed}},{}],23:[function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var a=Object.getOwnPropertyDescriptor(t,n);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,a)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(n,"__esModule",{value:!0}),a(e("./attach"),n),a(e("./broadcast-to-child-windows"),n),a(e("./broadcast"),n),a(e("./constants"),n),a(e("./dispatch"),n),a(e("./has-opener"),n),a(e("./is-not-string"),n),a(e("./message"),n),a(e("./package-payload"),n),a(e("./send-message"),n),a(e("./subscribe-replier"),n),a(e("./subscription-args-invalid"),n),a(e("./types"),n),a(e("./unpack-payload"),n)},{"./attach":17,"./broadcast":19,"./broadcast-to-child-windows":18,"./constants":20,"./dispatch":21,"./has-opener":22,"./is-not-string":24,"./message":25,"./package-payload":26,"./send-message":27,"./subscribe-replier":28,"./subscription-args-invalid":29,"./types":30,"./unpack-payload":31}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isntString=void 0,n.isntString=function(e){return"string"!=typeof e}},{}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.onMessage=void 0;var i=e("./");n.onMessage=function(e){if(!(0,i.isntString)(e.data)){var t=(0,i.unpackPayload)(e);if(t){var n=t.eventData,a=t.reply;(0,i.dispatch)("*",t.event,n,a,e),(0,i.dispatch)(e.origin,t.event,n,a,e),(0,i.broadcastToChildWindows)(e.data,t.origin,e.source)}}}},{"./":23}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.packagePayload=void 0;var i=e("./");n.packagePayload=function(e,t,n,a){var s,c={event:e,origin:t};"function"==typeof a&&(c.reply=(0,i.subscribeReplier)(a,t)),c.eventData=n;try{s=i.prefix+JSON.stringify(c)}catch(e){throw Error("Could not stringify event: ".concat(e.message))}return s}},{"./":23}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sendMessage=void 0,n.sendMessage=function(e,t,n){try{e.postMessage(t,n)}catch(e){}}},{}],28:[function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.subscribeReplier=void 0;var a=e("../framebus"),s=i(e("@braintree/uuid"));n.subscribeReplier=function(e,t){var n=(0,s.default)();return a.Framebus.target({origin:t}).on(n,function replier(i,s){e(i,s),a.Framebus.target({origin:t}).off(n,replier)}),n}},{"../framebus":15,"@braintree/uuid":10}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.subscriptionArgsInvalid=void 0;var i=e("./");n.subscriptionArgsInvalid=function(e,t,n){return!!(0,i.isntString)(e)||"function"!=typeof t||(0,i.isntString)(n)}},{"./":23}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0})},{}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.unpackPayload=void 0;var i=e("./");n.unpackPayload=function(e){var t;if(e.data.slice(0,i.prefix.length)!==i.prefix)return!1;try{t=JSON.parse(e.data.slice(i.prefix.length))}catch(e){return!1}if(t.reply){var n=e.origin,a=e.source,s=t.reply;t.reply=function(e){if(a){var t=(0,i.packagePayload)(s,n,e);t&&a.postMessage(t,n)}}}return t}},{"./":23}],32:[function(e,t,n){"use strict";var i=setTimeout;function isArray(e){return!!(e&&void 0!==e.length)}function noop(){}function Promise(e){if(!(this instanceof Promise))throw TypeError("Promises must be constructed via new");if("function"!=typeof e)throw TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(e,this)}function handle(e,t){for(;3===e._state;)e=e._value;if(0===e._state){e._deferreds.push(t);return}e._handled=!0,Promise._immediateFn(function(){var n,i=1===e._state?t.onFulfilled:t.onRejected;if(null===i){(1===e._state?resolve:reject)(t.promise,e._value);return}try{n=i(e._value)}catch(e){reject(t.promise,e);return}resolve(t.promise,n)})}function resolve(e,t){try{if(t===e)throw TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof Promise){e._state=3,e._value=t,finale(e);return}if("function"==typeof n){doResolve(function(){n.apply(t,arguments)},e);return}}e._state=1,e._value=t,finale(e)}catch(t){reject(e,t)}}function reject(e,t){e._state=2,e._value=t,finale(e)}function finale(e){2===e._state&&0===e._deferreds.length&&Promise._immediateFn(function(){e._handled||Promise._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)handle(e,e._deferreds[t]);e._deferreds=null}function Handler(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function doResolve(e,t){var n=!1;try{e(function(e){n||(n=!0,resolve(t,e))},function(e){n||(n=!0,reject(t,e))})}catch(e){if(n)return;n=!0,reject(t,e)}}Promise.prototype.catch=function(e){return this.then(null,e)},Promise.prototype.then=function(e,t){var n=new this.constructor(noop);return handle(this,new Handler(e,t,n)),n},Promise.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},Promise.all=function(e){return new Promise(function(t,n){if(!isArray(e))return n(TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var a=i.length,s=0;s<i.length;s++)!function res(e,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var c=s.then;if("function"==typeof c){c.call(s,function(t){res(e,t)},n);return}}i[e]=s,0==--a&&t(i)}catch(e){n(e)}}(s,i[s])})},Promise.allSettled=function(e){return new this(function(t,n){if(!(e&&void 0!==e.length))return n(TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);for(var a=i.length,s=0;s<i.length;s++)!function res(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var s=n.then;if("function"==typeof s){s.call(n,function(t){res(e,t)},function(n){i[e]={status:"rejected",reason:n},0==--a&&t(i)});return}}i[e]={status:"fulfilled",value:n},0==--a&&t(i)}(s,i[s])})},Promise.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Promise?e:new Promise(function(t){t(e)})},Promise.reject=function(e){return new Promise(function(t,n){n(e)})},Promise.race=function(e){return new Promise(function(t,n){if(!isArray(e))return n(TypeError("Promise.race accepts an array"));for(var i=0,a=e.length;i<a;i++)Promise.resolve(e[i]).then(t,n)})},Promise._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){i(e,0)},Promise._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.exports=Promise},{}],33:[function(e,t,n){"use strict";var i=e("./create-authorization-data"),a=e("./json-clone"),s=e("./constants");t.exports=function(e,t){var n,c=t?a(t):{},d=i(e.authorization).attrs,u=a(e.analyticsMetadata);for(n in c.braintreeLibraryVersion=s.BRAINTREE_LIBRARY_VERSION,c._meta)c._meta.hasOwnProperty(n)&&(u[n]=c._meta[n]);return c._meta=u,d.tokenizationKey?c.tokenizationKey=d.tokenizationKey:c.authorizationFingerprint=d.authorizationFingerprint,c}},{"./constants":39,"./create-authorization-data":43,"./json-clone":50}],34:[function(e,t,n){"use strict";var i=e("./constants"),a=e("./add-metadata");t.exports={sendEvent:function(e,t,n){var s=Date.now();return Promise.resolve(e).then(function(e){var c=Date.now(),d=e.getConfiguration();(0,e._request)({url:d.gatewayConfiguration.analytics.url,method:"post",data:a(d,{analytics:[{kind:i.ANALYTICS_PREFIX+t,isAsync:Math.floor(c/1e3)!==Math.floor(s/1e3),timestamp:s}]}),timeout:i.ANALYTICS_REQUEST_TIMEOUT_MS},n)}).catch(function(e){n&&n(e)})}}},{"./add-metadata":33,"./constants":39}],35:[function(e,t,n){"use strict";var i=e("@braintree/asset-loader/load-script");t.exports={loadScript:i}},{"@braintree/asset-loader/load-script":3}],36:[function(e,t,n){"use strict";var i="function"==typeof Object.assign?Object.assign:assignPolyfill;function assignPolyfill(e){var t,n,i;for(t=1;t<arguments.length;t++)for(i in n=arguments[t])n.hasOwnProperty(i)&&(e[i]=n[i]);return e}t.exports={assign:i,_assign:assignPolyfill}},{}],37:[function(e,t,n){"use strict";var i=e("./braintree-error"),a=e("./errors"),s="3.97.2";t.exports={verify:function(e){var t,n,c;return e?(c=e.name,t=e.client,n=e.authorization,t||n)?n||t.getVersion()===s?Promise.resolve():Promise.reject(new i({type:a.INCOMPATIBLE_VERSIONS.type,code:a.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+t.getVersion()+") and "+c+" (version "+s+") components must be from the same SDK version."})):Promise.reject(new i({type:a.INSTANTIATION_OPTION_REQUIRED.type,code:a.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+c+"."})):Promise.reject(new i({type:a.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:a.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}}},{"./braintree-error":38,"./errors":47}],38:[function(e,t,n){"use strict";var i=e("./enumerate");function BraintreeError(e){if(!BraintreeError.types.hasOwnProperty(e.type))throw Error(e.type+" is not a valid type.");if(!e.code)throw Error("Error code required.");if(!e.message)throw Error("Error message required.");this.name="BraintreeError",this.code=e.code,this.message=e.message,this.type=e.type,this.details=e.details}BraintreeError.prototype=Object.create(Error.prototype),BraintreeError.prototype.constructor=BraintreeError,BraintreeError.types=i(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),BraintreeError.findRootError=function(e){return e instanceof BraintreeError&&e.details&&e.details.originalError?BraintreeError.findRootError(e.details.originalError):e},t.exports=BraintreeError},{"./enumerate":46}],39:[function(e,t,n){"use strict";var i="3.97.2";t.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:{production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},CLIENT_API_URLS:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:{production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"},INTEGRATION_TIMEOUT_MS:6e4,VERSION:i,INTEGRATION:"custom",SOURCE:"client",PLATFORM:"web",BRAINTREE_LIBRARY_VERSION:"braintree/web/"+i}},{}],40:[function(e,t,n){"use strict";var i=e("./braintree-error"),a=e("./errors");t.exports=function(e,t){t.forEach(function(t){e[t]=function(){throw new i({type:a.METHOD_CALLED_AFTER_TEARDOWN.type,code:a.METHOD_CALLED_AFTER_TEARDOWN.code,message:t+" cannot be called after teardown."})}})}},{"./braintree-error":38,"./errors":47}],41:[function(e,t,n){"use strict";var i=e("./braintree-error");t.exports=function(e,t){return e instanceof i?e:new i({type:t.type,code:t.code,message:t.message,details:{originalError:e}})}},{"./braintree-error":38}],42:[function(e,t,n){"use strict";var i=e("./constants").ASSETS_URLS;t.exports={create:function(e){return i.production}}},{"./constants":39}],43:[function(e,t,n){"use strict";var i=e("../lib/vendor/polyfill").atob,a=e("../lib/constants").CLIENT_API_URLS;t.exports=function(e){var t,n,s,c,d={attrs:{},configUrl:""};return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(e)?(n=(t=e.split("_"))[0],c={merchantId:t.slice(2).join("_"),environment:n},d.environment=c.environment,d.attrs.tokenizationKey=e,d.configUrl=a[c.environment]+"/merchants/"+c.merchantId+"/client_api/v1/configuration"):(s=JSON.parse(i(e)),d.environment=s.environment,d.attrs.authorizationFingerprint=s.authorizationFingerprint,d.configUrl=s.configUrl,d.graphQL=s.graphQL),d}},{"../lib/constants":39,"../lib/vendor/polyfill":53}],44:[function(e,t,n){"use strict";var i=e("./braintree-error"),a=e("./assets"),s=e("./errors"),c="3.97.2";t.exports={create:function(e){var t=Promise.resolve();return e.client?Promise.resolve(e.client):(window.braintree&&window.braintree.client||(t=a.loadScript({src:e.assetsUrl+"/web/"+c+"/js/client.min.js"}).catch(function(e){return Promise.reject(new i({type:s.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:s.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:s.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:e}}))})),t.then(function(){return window.braintree.client.VERSION!==c?Promise.reject(new i({type:s.INCOMPATIBLE_VERSIONS.type,code:s.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+e.name+" (version "+c+") components must be from the same SDK version."})):window.braintree.client.create({authorization:e.authorization,debug:e.debug})}))}}},{"./assets":35,"./braintree-error":38,"./errors":47}],45:[function(e,t,n){"use strict";t.exports=function(e){return function(){var t=arguments;setTimeout(function(){e.apply(null,t)},1)}}},{}],46:[function(e,t,n){"use strict";t.exports=function(e,t){return t=null==t?"":t,e.reduce(function(e,n){return e[n]=t+n,e},{})}},{}],47:[function(e,t,n){"use strict";var i=e("./braintree-error");t.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:i.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:i.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:i.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:i.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:i.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":38}],48:[function(e,t,n){"use strict";t.exports={isHTTPS:function(e){return"https:"===(e=e||window.location.protocol)}}},{}],49:[function(e,t,n){"use strict";var i,a={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};t.exports=function(e){var t;return e=e.toLowerCase(),!!/^https:/.test(e)&&((i=i||document.createElement("a")).href=e,t=i.hostname.split(".").slice(-2).join("."),a.hasOwnProperty(t))}},{}],50:[function(e,t,n){"use strict";t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],51:[function(e,t,n){"use strict";t.exports=function(e){return Object.keys(e).filter(function(t){return"function"==typeof e[t]})}},{}],52:[function(e,t,n){"use strict";t.exports=function(e){return e?"":".min"}},{}],53:[function(e,t,n){"use strict";var i="function"==typeof atob?atob:atobPolyfill;function atobPolyfill(e){var t,n,i,a,s,c,d,u,l=RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f="";if(!l.test(e))throw Error("Non base64 encoded input passed to window.atob polyfill");u=0;do a=p.indexOf(e.charAt(u++)),s=p.indexOf(e.charAt(u++)),c=p.indexOf(e.charAt(u++)),d=p.indexOf(e.charAt(u++)),t=(63&a)<<2|s>>4&3,n=(15&s)<<4|c>>2&15,i=(3&c)<<6|63&d,f+=String.fromCharCode(t)+(n?String.fromCharCode(n):"")+(i?String.fromCharCode(i):"");while(u<e.length);return f}t.exports={atob:function(e){return i.call(window,e)},_atob:atobPolyfill}},{}],54:[function(e,t,n){"use strict";var i=e("../../../lib/assign").assign,a=e("../../../lib/analytics"),s=e("../../../lib/braintree-error"),c=e("../../../lib/is-verified-domain"),d=e("@braintree/extended-promise"),u=e("@braintree/event-emitter"),l=e("../../shared/errors"),p=e("@braintree/iframer"),f=e("framebus"),m=e("../../shared/constants"),h=e("@braintree/uuid"),_=e("../../shared/events"),E=e("../../../lib/use-min"),y=e("../../../lib/constants").BUS_CONFIGURATION_REQUEST_EVENT,b="3.97.2";function BaseFramework(e){u.call(this),this._client=e.client,this._createPromise=e.createPromise,this._createOptions=e,this._client?(this._isDebug=this._client.getConfiguration().isDebug,this._assetsUrl=this._client.getConfiguration().gatewayConfiguration.assetsUrl):(this._isDebug=!!e.isDebug,this._assetsUrl=e.assetsUrl),this._assetsUrl=this._assetsUrl+"/web/"+b}d.suppressUnhandledPromiseMessage=!0,u.createChild(BaseFramework),BaseFramework.prototype._waitForClient=function(){return this._client?Promise.resolve():this._createPromise.then((function(e){this._client=e}).bind(this))},BaseFramework.prototype.setUpEventListeners=function(){throw new s(l.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},BaseFramework.prototype.verifyCard=function(e,t){var n,i,s=this;return(t=t||{},i=this._checkForVerifyCardError(e,t))?Promise.reject(i):(this._verifyCardInProgress=!0,n=this._formatVerifyCardOptions(e),this._formatLookupData(n).then(function(e){return a.sendEvent(s._createPromise,"three-d-secure.verification-flow.started"),s._performLookup(n.nonce,e)}).then(function(e){return a.sendEvent(s._createPromise,"three-d-secure.verification-flow.3ds-version."+e.lookup.threeDSecureVersion),s._onLookupComplete(e,n)}).then(function(e){return s.initializeChallengeWithLookupResponse(e,n)}).then(function(e){return s._resetVerificationState(),a.sendEvent(s._createPromise,"three-d-secure.verification-flow.completed"),e}).catch(function(e){return s._resetVerificationState(),a.sendEvent(s._createPromise,"three-d-secure.verification-flow.failed"),Promise.reject(e)}))},BaseFramework.prototype._checkForFrameworkSpecificVerifyCardErrors=function(){throw new s(l.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},BaseFramework.prototype._presentChallenge=function(){throw new s(l.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},BaseFramework.prototype.prepareLookup=function(){throw new s(l.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},BaseFramework.prototype._resetVerificationState=function(){this._verifyCardInProgress=!1,this._verifyCardPromisePlus=null,"function"==typeof this._reloadThreeDSecure&&this._reloadThreeDSecure()},BaseFramework.prototype._performLookup=function(e,t){var n=this,i="payment_methods/"+e+"/three_d_secure/lookup";return this._waitForClient().then(function(){return n._client.request({endpoint:i,method:"post",data:t}).catch(function(e){var t,i=e&&e.details&&e.details.httpStatus,c="three-d-secure.verification-flow.lookup-failed";return 404===i?(t=l.THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR,c+=".404"):422===i?(t=l.THREEDS_LOOKUP_VALIDATION_ERROR,c+=".422"):t=l.THREEDS_LOOKUP_ERROR,a.sendEvent(n._createPromise,c),Promise.reject(new s({type:t.type,code:t.code,message:t.message,details:{originalError:e}}))})})},BaseFramework.prototype._checkForVerifyCardError=function(e,t){var n;return!0===this._verifyCardInProgress?new s(l.THREEDS_AUTHENTICATION_IN_PROGRESS):(e.nonce?e.amount||(n="an amount"):n="a nonce",n||(n=this._checkForFrameworkSpecificVerifyCardErrors(e,t)),n)?new s({type:l.THREEDS_MISSING_VERIFY_CARD_OPTION.type,code:l.THREEDS_MISSING_VERIFY_CARD_OPTION.code,message:"verifyCard options must include "+n+"."}):null},BaseFramework.prototype.initializeChallengeWithLookupResponse=function(e,t){var n=this;return t=t||{},this._lookupPaymentMethod=e.paymentMethod,n._verifyCardPromisePlus=n._verifyCardPromisePlus||new d,n._handleLookupResponse(e,t),n._verifyCardPromisePlus.then(function(e){return a.sendEvent(n._createPromise,"three-d-secure.verification-flow.liability-shifted."+String(e.liabilityShifted)),a.sendEvent(n._createPromise,"three-d-secure.verification-flow.liability-shift-possible."+String(e.liabilityShiftPossible)),e})},BaseFramework.prototype._handleLookupResponse=function(e,t){var n,i=!!(e.lookup&&e.lookup.acsUrl);a.sendEvent(this._createPromise,"three-d-secure.verification-flow.challenge-presented."+String(i)),i?this._presentChallenge(e,t):((n=this._formatAuthResponse(e.paymentMethod,e.threeDSecureInfo)).verificationDetails=e.threeDSecureInfo,this._verifyCardPromisePlus.resolve(n))},BaseFramework.prototype._onLookupComplete=function(e){return this._lookupPaymentMethod=e.paymentMethod,this._verifyCardPromisePlus=new d,Promise.resolve(e)},BaseFramework.prototype._formatAuthResponse=function(e,t){return{nonce:e.nonce,type:e.type,binData:e.binData,details:e.details,description:e.description&&e.description.replace(/\+/g," "),liabilityShifted:t&&t.liabilityShifted,liabilityShiftPossible:t&&t.liabilityShiftPossible,threeDSecureInfo:e.threeDSecureInfo}},BaseFramework.prototype._formatVerifyCardOptions=function(e){return i({},e)},BaseFramework.prototype._formatLookupData=function(e){var t={amount:e.amount};return!0===e.collectDeviceData&&(t.browserColorDepth=window.screen.colorDepth,t.browserJavaEnabled=window.navigator.javaEnabled(),t.browserJavascriptEnabled=!0,t.browserLanguage=window.navigator.language,t.browserScreenHeight=window.screen.height,t.browserScreenWidth=window.screen.width,t.browserTimeZone=new Date().getTimezoneOffset(),t.deviceChannel="Browser"),Promise.resolve(t)},BaseFramework.prototype._handleV1AuthResponse=function(e){var t=JSON.parse(e.auth_response);t.success?this._verifyCardPromisePlus.resolve(this._formatAuthResponse(t.paymentMethod,t.threeDSecureInfo)):t.threeDSecureInfo&&t.threeDSecureInfo.liabilityShiftPossible?this._verifyCardPromisePlus.resolve(this._formatAuthResponse(this._lookupPaymentMethod,t.threeDSecureInfo)):this._verifyCardPromisePlus.reject(new s({type:s.types.UNKNOWN,code:"UNKNOWN_AUTH_RESPONSE",message:t.error.message}))},BaseFramework.prototype.cancelVerifyCard=function(){var e;return(this._verifyCardInProgress=!1,this._lookupPaymentMethod)?(e=this._lookupPaymentMethod.threeDSecureInfo,Promise.resolve(i({},this._lookupPaymentMethod,{liabilityShiftPossible:e&&e.liabilityShiftPossible,liabilityShifted:e&&e.liabilityShifted,verificationDetails:e&&e.verificationDetails}))):Promise.reject(new s(l.THREEDS_NO_VERIFICATION_PAYLOAD))},BaseFramework.prototype._setupV1Bus=function(e){var t=this._client.getConfiguration(),n=window.location.href.split("#")[0],i=e.lookupResponse,a=h(),s=new f({channel:a,verifyDomain:c}),d=this._assetsUrl+"/html/three-d-secure-authentication-complete-frame.html?channel="+encodeURIComponent(a)+"&";return s.on(y,function(a){a({clientConfiguration:t,nonce:e.nonce,acsUrl:i.acsUrl,pareq:i.pareq,termUrl:i.termUrl+"&three_d_secure_version="+b+"&authentication_complete_base_url="+encodeURIComponent(d),md:i.md,parentUrl:n})}),s.on(_.AUTHENTICATION_COMPLETE,e.handleAuthResponse),s},BaseFramework.prototype._setupV1Iframe=function(e){return p({src:this._assetsUrl+"/html/three-d-secure-bank-frame"+E(this._isDebug)+".html?showLoader="+e.showLoader,height:400,width:400,name:m.LANDING_FRAME_NAME+"_"+this._v1Bus.channel,title:"3D Secure Authorization Frame"})},BaseFramework.prototype._setupV1Elements=function(e){this._v1Bus=this._setupV1Bus(e),this._v1Iframe=this._setupV1Iframe(e)},BaseFramework.prototype._teardownV1Elements=function(){this._v1Bus&&(this._v1Bus.teardown(),this._v1Bus=null),this._v1Iframe&&this._v1Iframe.parentNode&&(this._v1Iframe.parentNode.removeChild(this._v1Iframe),this._v1Iframe=null),this._onV1Keyup&&(document.removeEventListener("keyup",this._onV1Keyup),this._onV1Keyup=null)},BaseFramework.prototype.teardown=function(){return a.sendEvent(this._createPromise,"three-d-secure.teardown-completed"),this._teardownV1Elements(),Promise.resolve()},t.exports=BaseFramework},{"../../../lib/analytics":34,"../../../lib/assign":36,"../../../lib/braintree-error":38,"../../../lib/constants":39,"../../../lib/is-verified-domain":49,"../../../lib/use-min":52,"../../shared/constants":63,"../../shared/errors":64,"../../shared/events":65,"@braintree/event-emitter":4,"@braintree/extended-promise":5,"@braintree/iframer":6,"@braintree/uuid":10,framebus:16}],55:[function(e,t,n){"use strict";var i=e("./songbird");function Bootstrap3ModalFramework(e){i.call(this,e)}Bootstrap3ModalFramework.prototype=Object.create(i.prototype,{constructor:i}),Bootstrap3ModalFramework.prototype._createV1IframeModalElement=function(e){var t=document.createElement("div");return t.innerHTML='<div class="modal fade in" tabindex="-1" role="dialog" aria-labelledby="CCAFrameModal-label" aria-hidden="true" style="display: block;"><div class="modal-dialog" style="width:440px;z-index:999999;"><div class="modal-content"><div class="modal-body" data-braintree-v1-fallback-iframe-container><button type="button" data-braintree-v1-fallback-close-button class="close" data-dismiss="modal" aria-hidden="true">\xd7</button></div></div></div><div data-braintree-v1-fallback-backdrop style="position: fixed;cursor: pointer;z-index: 999998;top: 0;left: 0;width: 100%;height: 100%;"></div></div>',t.querySelector("[data-braintree-v1-fallback-iframe-container]").appendChild(e),t},Bootstrap3ModalFramework.prototype._createCardinalConfigurationOptions=function(e){var t=i.prototype._createCardinalConfigurationOptions.call(this,e);return t.payment.framework="bootstrap3",t},t.exports=Bootstrap3ModalFramework},{"./songbird":60}],56:[function(e,t,n){"use strict";var i=e("./songbird");function CardinalModalFramework(e){i.call(this,e)}CardinalModalFramework.prototype=Object.create(i.prototype,{constructor:i}),CardinalModalFramework.prototype._createV1IframeModalElement=function(e){var t=document.createElement("div"),n=!!(this._createOptions&&this._createOptions.cardinalSDKConfig&&this._createOptions.cardinalSDKConfig.payment&&this._createOptions.cardinalSDKConfig.payment.displayExitButton);return t.innerHTML='<div style="position: fixed;z-index: 999999;top: 50%;left: 50%;padding: 24px 20px;transform: translate(-50%,-50%);border-radius: 2px;background: #fff;max-width: 100%;overflow: auto;"><div><button data-braintree-v1-fallback-close-button style="font-family: Helvetica,Arial,sans-serif;font-size: 25px;line-height: 12px;position: absolute;top: 2px;right: 0px;cursor: pointer;color: #999;border: 0;outline: none;background: none;" onMouseOver="this.style.color=\'#000\'" onMouseOut="this.style.color=\'#999\'">\xd7</button></div><div data-braintree-v1-fallback-iframe-container style="height: 400px;"></div></div><div data-braintree-v1-fallback-backdrop style="position: fixed;z-index: 999998;cursor: pointer;top: 0;left: 0;width: 100%;height: 100%;transition: opacity 1ms ease;background: rgba(0,0,0,.6);"></div>',n||(t.querySelector("[data-braintree-v1-fallback-close-button]").style.display="none"),t.querySelector("[data-braintree-v1-fallback-iframe-container]").appendChild(e),t},t.exports=CardinalModalFramework},{"./songbird":60}],57:[function(e,t,n){"use strict";var i=e("./legacy"),a=e("./cardinal-modal"),s=e("./bootstrap3-modal"),c=e("./inline-iframe");t.exports={legacy:i,"cardinal-modal":a,"bootstrap3-modal":s,"inline-iframe":c}},{"./bootstrap3-modal":55,"./cardinal-modal":56,"./inline-iframe":58,"./legacy":59}],58:[function(e,t,n){"use strict";var i=e("./songbird"),a=e("../../../lib/braintree-error"),s=e("../../shared/errors"),c=e("../../../lib/enumerate");function InlineIframeFramework(e){i.call(this,e)}InlineIframeFramework.prototype=Object.create(i.prototype,{constructor:i}),InlineIframeFramework.events=c(["AUTHENTICATION_IFRAME_AVAILABLE"],"inline-iframe-framework:"),InlineIframeFramework.prototype.setUpEventListeners=function(e){i.prototype.setUpEventListeners.call(this,e),this.on(InlineIframeFramework.events.AUTHENTICATION_IFRAME_AVAILABLE,function(t,n){e("authentication-iframe-available",t,n)})},InlineIframeFramework.prototype._createCardinalConfigurationOptions=function(e){var t=i.prototype._createCardinalConfigurationOptions.call(this,e);return t.payment.framework="inline",t},InlineIframeFramework.prototype._addV1IframeToPage=function(){this._emit(InlineIframeFramework.events.AUTHENTICATION_IFRAME_AVAILABLE,{element:this._v1Modal},function(){})},InlineIframeFramework.prototype._setupFrameworkSpecificListeners=function(){this.setCardinalListener("ui.inline.setup",this._onInlineSetup.bind(this))},InlineIframeFramework.prototype._onInlineSetup=function(e,t,n,i){var c,d;if(e&&t?"CCA"!==t.paymentType?d=!0:"suppress"===t.data.mode||"static"===t.data.mode||(d=!0):d=!0,d){i(new a(s.THREEDS_INLINE_IFRAME_DETAILS_INCORRECT));return}(c=document.createElement("div")).innerHTML=e,"suppress"===t.data.mode?(c.style.display="none",document.body.appendChild(c),n()):"static"===t.data.mode&&this._emit(InlineIframeFramework.events.AUTHENTICATION_IFRAME_AVAILABLE,{element:c},function(){n()})},t.exports=InlineIframeFramework},{"../../../lib/braintree-error":38,"../../../lib/enumerate":46,"../../shared/errors":64,"./songbird":60}],59:[function(e,t,n){"use strict";var i=e("./base"),a=e("../../../lib/deferred");function LegacyFramework(e){i.call(this,e)}LegacyFramework.prototype=Object.create(i.prototype,{constructor:LegacyFramework}),LegacyFramework.prototype.setUpEventListeners=function(){},LegacyFramework.prototype.transformV1CustomerBillingAddress=function(e){return e.billingAddress.line1=e.billingAddress.streetAddress,e.billingAddress.line2=e.billingAddress.extendedAddress,e.billingAddress.city=e.billingAddress.locality,e.billingAddress.state=e.billingAddress.region,e.billingAddress.countryCode=e.billingAddress.countryCodeAlpha2,delete e.billingAddress.streetAddress,delete e.billingAddress.extendedAddress,delete e.billingAddress.locality,delete e.billingAddress.region,delete e.billingAddress.countryCodeAlpha2,e},LegacyFramework.prototype._createIframe=function(e){var t=this;return this._setupV1Elements({nonce:e.nonce,lookupResponse:e.lookupResponse,showLoader:e.showLoader,handleAuthResponse:function(n){t._handleAuthResponse(n,e)}}),this._v1Iframe},LegacyFramework.prototype._handleAuthResponse=function(e,t){this._v1Bus.teardown(),t.removeFrame(),a((function(){this._handleV1AuthResponse(e)}).bind(this))()},LegacyFramework.prototype._checkForFrameworkSpecificVerifyCardErrors=function(e){var t;return"function"!=typeof e.addFrame?t="an addFrame function":"function"!=typeof e.removeFrame&&(t="a removeFrame function"),t},LegacyFramework.prototype._formatVerifyCardOptions=function(e){var t=i.prototype._formatVerifyCardOptions.call(this,e);return t.addFrame=a(e.addFrame),t.removeFrame=a(e.removeFrame),t.showLoader=!1!==e.showLoader,t},LegacyFramework.prototype._formatLookupData=function(e){var t=this;return i.prototype._formatLookupData.call(this,e).then(function(n){return e.customer&&e.customer.billingAddress&&(n.customer=t.transformV1CustomerBillingAddress(e.customer)),n})},LegacyFramework.prototype._presentChallenge=function(e,t){t.addFrame(null,this._createIframe({showLoader:t.showLoader,lookupResponse:e.lookup,nonce:e.paymentMethod.nonce,removeFrame:t.removeFrame}))},t.exports=LegacyFramework},{"../../../lib/deferred":45,"./base":54}],60:[function(e,t,n){"use strict";var i=e("./base"),a=e("../../../lib/assign").assign,s=e("../../../lib/deferred"),c=e("../../../lib/braintree-error"),d=e("../../../lib/convert-to-braintree-error"),u=e("../../../lib/analytics"),l=e("../../../lib/assets"),p=e("../../shared/errors"),f=e("../../../lib/enumerate"),m=e("../../shared/constants"),h=e("@braintree/extended-promise"),_=e("../../../lib/constants").INTEGRATION_TIMEOUT_MS,E=e("../../../lib/constants").PLATFORM,y="3.97.2",b=["ui.close","ui.render","ui.renderHidden","ui.loading.close","ui.loading.render"],v=["low_value","transaction_risk_analysis"];function SongbirdFramework(e){i.call(this,e),this._useV1Fallback=!1,this._clientMetadata={requestedThreeDSecureVersion:"2",sdkVersion:E+"/"+y},this.originalSetupOptions=e,this._getDfReferenceIdPromisePlus=new h,this.setupSongbird(e),this._cardinalEvents=[]}function extractAddressData(e,t,n){t[n+"Line1"]=e.streetAddress,t[n+"Line2"]=e.extendedAddress,t[n+"Line3"]=e.line3,t[n+"City"]=e.locality,t[n+"State"]=e.region,t[n+"PostalCode"]=e.postalCode,t[n+"CountryCode"]=e.countryCodeAlpha2}h.suppressUnhandledPromiseMessage=!0,SongbirdFramework.prototype=Object.create(i.prototype,{constructor:SongbirdFramework}),SongbirdFramework.events=f(["LOOKUP_COMPLETE","CUSTOMER_CANCELED","UI.CLOSE","UI.RENDER","UI.RENDERHIDDEN","UI.LOADING.CLOSE","UI.LOADING.RENDER"],"songbird-framework:"),SongbirdFramework.prototype.setUpEventListeners=function(e){this.on(SongbirdFramework.events.LOOKUP_COMPLETE,function(t,n){e("lookup-complete",t,n)}),this.on(SongbirdFramework.events.CUSTOMER_CANCELED,function(){e("customer-canceled")}),this.on(SongbirdFramework.events["UI.CLOSE"],function(){e("authentication-modal-close")}),this.on(SongbirdFramework.events["UI.RENDER"],function(){e("authentication-modal-render")}),this.on(SongbirdFramework.events["UI.RENDERHIDDEN"],function(){e("authentication-modal-render-hidden")}),this.on(SongbirdFramework.events["UI.LOADING.CLOSE"],function(){e("authentication-modal-loader-close")}),this.on(SongbirdFramework.events["UI.LOADING.RENDER"],function(){e("authentication-modal-loader-render")})},SongbirdFramework.prototype.prepareLookup=function(e){var t=a({},e),n=this;return this.getDfReferenceId().then(function(e){t.dfReferenceId=e}).then(function(){return n._triggerCardinalBinProcess(e.bin)}).catch(function(){}).then(function(){return n._waitForClient()}).then(function(){return t.clientMetadata=n._clientMetadata,t.authorizationFingerprint=n._client.getConfiguration().authorizationFingerprint,t.braintreeLibraryVersion="braintree/web/"+y,t})},SongbirdFramework.prototype.initializeChallengeWithLookupResponse=function(e,t){return this.setupSongbird().then((function(){return i.prototype.initializeChallengeWithLookupResponse.call(this,e,t)}).bind(this))},SongbirdFramework.prototype.initiateV1Fallback=function(e){this._useV1Fallback=!0,this._removeSongbirdListeners(),u.sendEvent(this._createPromise,"three-d-secure.v1-fallback."+e),this._songbirdPromise&&this._songbirdPromise.resolve()},SongbirdFramework.prototype._triggerCardinalBinProcess=function(e){var t=this,n=Date.now();return window.Cardinal.trigger("bin.process",e).then(function(e){t._clientMetadata.issuerDeviceDataCollectionTimeElapsed=Date.now()-n,t._clientMetadata.issuerDeviceDataCollectionResult=e&&e.Status})},SongbirdFramework.prototype.transformBillingAddress=function(e,t){return t&&(extractAddressData(t,e,"billing"),e.billingPhoneNumber=t.phoneNumber,e.billingGivenName=t.givenName,e.billingSurname=t.surname),e},SongbirdFramework.prototype.transformShippingAddress=function(e){var t=e.shippingAddress;return t&&(extractAddressData(t,e,"shipping"),delete e.shippingAddress),e},SongbirdFramework.prototype._createV1IframeModalElement=function(e){var t=document.createElement("div");return t.innerHTML='<div data-braintree-v1-fallback-iframe-container="true" style="height: 400px;"></div>',t.querySelector('[data-braintree-v1-fallback-iframe-container="true"]').appendChild(e),t},SongbirdFramework.prototype._createV1IframeModal=function(e){var t=this._createV1IframeModalElement(e),n=t.querySelector("[data-braintree-v1-fallback-close-button]"),i=t.querySelector("[data-braintree-v1-fallback-backdrop]"),a=this;function closeHandler(){t.parentNode.removeChild(t),a.cancelVerifyCard(p.THREEDS_CARDINAL_SDK_CANCELED),document.removeEventListener("keyup",a._onV1Keyup),a._onV1Keyup=null}return this._onV1Keyup=function(e){"Escape"===e.key&&t.parentNode&&closeHandler()},n&&n.addEventListener("click",closeHandler),i&&i.addEventListener("click",closeHandler),document.addEventListener("keyup",this._onV1Keyup),t},SongbirdFramework.prototype._addV1IframeToPage=function(){document.body.appendChild(this._v1Modal)},SongbirdFramework.prototype._handleAuthResponseFromV1Fallback=function(e){this._teardownV1Elements(),this._v1Modal.parentNode.removeChild(this._v1Modal),this._handleV1AuthResponse(e)},SongbirdFramework.prototype._presentChallengeWithV1Fallback=function(e){var t=this;this._setupV1Elements({lookupResponse:e,showLoader:!0,handleAuthResponse:function(e){t._handleAuthResponseFromV1Fallback(e)}}),this._v1Modal=this._createV1IframeModal(this._v1Iframe),this._addV1IframeToPage()},SongbirdFramework.prototype.setupSongbird=function(e){var t=this,n=Date.now();return this._songbirdPromise||(e=e||{},this._songbirdPromise=new h,this._v2SetupFailureReason="reason-unknown",t._loadCardinalScript(e).then(function(){return window.Cardinal?t._configureCardinalSdk({setupOptions:e,setupStartTime:n}):(t._v2SetupFailureReason="cardinal-global-unavailable",Promise.reject(new c(p.THREEDS_CARDINAL_SDK_SETUP_FAILED)))}).catch(function(e){var n=d(e,{type:p.THREEDS_CARDINAL_SDK_SETUP_FAILED.type,code:p.THREEDS_CARDINAL_SDK_SETUP_FAILED.code,message:p.THREEDS_CARDINAL_SDK_SETUP_FAILED.message});t._getDfReferenceIdPromisePlus.reject(n),window.clearTimeout(t._songbirdSetupTimeoutReference),u.sendEvent(t._client,"three-d-secure.cardinal-sdk.init.setup-failed"),t.initiateV1Fallback("cardinal-sdk-setup-failed."+t._v2SetupFailureReason)})),this._songbirdPromise},SongbirdFramework.prototype._configureCardinalSdk=function(e){var t=this;return this._waitForClient().then(function(){return t._client.getConfiguration().gatewayConfiguration.threeDSecure}).then(function(n){var i=n.cardinalAuthenticationJWT,a=e.setupOptions,s=e.setupStartTime,c=t._createCardinalConfigurationOptions(a);b.forEach(function(e){t.setCardinalListener(e,function(){t._emit(SongbirdFramework.events[e.toUpperCase()])})}),t.setCardinalListener("payments.setupComplete",t._createPaymentsSetupCompleteCallback()),t._setupFrameworkSpecificListeners(),window.Cardinal.configure(c),window.Cardinal.setup("init",{jwt:i}),t._clientMetadata.cardinalDeviceDataCollectionTimeElapsed=Date.now()-s,t.setCardinalListener("payments.validated",t._createPaymentsValidatedCallback())}).catch(function(e){return t._v2SetupFailureReason="cardinal-configuration-threw-error",Promise.reject(e)})},SongbirdFramework.prototype.setCardinalListener=function(e,t){this._cardinalEvents.push(e),window.Cardinal.on(e,t)},SongbirdFramework.prototype._setupFrameworkSpecificListeners=function(){},SongbirdFramework.prototype._createCardinalConfigurationOptions=function(e){var t=e.cardinalSDKConfig||{},n=t.payment||{};return!t.logging&&e.loggingEnabled&&(t.logging={level:"verbose"}),t.payment={},n.hasOwnProperty("displayLoading")&&(t.payment.displayLoading=n.displayLoading),n.hasOwnProperty("displayExitButton")&&(t.payment.displayExitButton=n.displayExitButton),t},SongbirdFramework.prototype._loadCardinalScript=function(e){var t=this;return this._waitForClient().then(function(){var n=t._getCardinalScriptSource();return t._songbirdSetupTimeoutReference=window.setTimeout(function(){u.sendEvent(t._client,"three-d-secure.cardinal-sdk.init.setup-timeout"),t.initiateV1Fallback("cardinal-sdk-setup-timeout")},e.timeout||_),l.loadScript({src:n})}).catch(function(e){return t._v2SetupFailureReason="songbird-js-failed-to-load",Promise.reject(d(e,p.THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED))})},SongbirdFramework.prototype._getCardinalScriptSource=function(){var e=this._client.getConfiguration().gatewayConfiguration;return e&&"production"===e.environment?m.CARDINAL_SCRIPT_SOURCE.production:m.CARDINAL_SCRIPT_SOURCE.sandbox},SongbirdFramework.prototype._createPaymentsSetupCompleteCallback=function(){var e=this;return function(t){e._getDfReferenceIdPromisePlus.resolve(t.sessionId),window.clearTimeout(e._songbirdSetupTimeoutReference),u.sendEvent(e._createPromise,"three-d-secure.cardinal-sdk.init.setup-completed"),e._songbirdPromise.resolve()}},SongbirdFramework.prototype.getDfReferenceId=function(){return this._getDfReferenceIdPromisePlus},SongbirdFramework.prototype._performJWTValidation=function(e,t){var n=this,i=this._lookupPaymentMethod.nonce,a="payment_methods/"+i+"/three_d_secure/authenticate_from_jwt",s=e&&e.Payment&&e.Payment.ExtendedData&&e.Payment.ExtendedData.ChallengeCancel;return s&&(u.sendEvent(this._createPromise,"three-d-secure.verification-flow.cardinal-sdk.cancel-code."+s),"01"===s&&this._emit(SongbirdFramework.events.CUSTOMER_CANCELED)),u.sendEvent(this._createPromise,"three-d-secure.verification-flow.upgrade-payment-method.started"),this._waitForClient().then(function(){return n._client.request({method:"post",endpoint:a,data:{jwt:t,paymentMethodNonce:i}})}).then(function(t){var i=t.paymentMethod||n._lookupPaymentMethod,a=n._formatAuthResponse(i,t.threeDSecureInfo);return a.rawCardinalSDKVerificationData=e,u.sendEvent(n._client,"three-d-secure.verification-flow.upgrade-payment-method.succeeded"),Promise.resolve(a)}).catch(function(e){var t=new c({type:p.THREEDS_JWT_AUTHENTICATION_FAILED.type,code:p.THREEDS_JWT_AUTHENTICATION_FAILED.code,message:p.THREEDS_JWT_AUTHENTICATION_FAILED.message,details:{originalError:e}});return u.sendEvent(n._client,"three-d-secure.verification-flow.upgrade-payment-method.errored"),Promise.reject(t)})},SongbirdFramework.prototype._createPaymentsValidatedCallback=function(){var e=this;return function(t,n){var i;if(e._useV1Fallback){u.sendEvent(e._createPromise,"three-d-secure.verification-flow.cardinal-sdk.payments-validated-callback-called-in-v1-fallback-flow");return}if(u.sendEvent(e._createPromise,"three-d-secure.verification-flow.cardinal-sdk.action-code."+t.ActionCode.toLowerCase()),!e._verifyCardPromisePlus){e.initiateV1Fallback("cardinal-sdk-setup-error.number-"+t.ErrorNumber);return}switch(t.ActionCode){case"SUCCESS":case"NOACTION":case"FAILURE":e._performJWTValidation(t,n).then(function(t){e._verifyCardPromisePlus.resolve(t)}).catch(function(t){e._verifyCardPromisePlus.reject(t)});break;case"ERROR":switch(u.sendEvent(e._createPromise,"three-d-secure.verification-flow.cardinal-sdk-error."+t.ErrorNumber),t.ErrorNumber){case 10001:case 10002:i=new c(p.THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT);break;case 10003:case 10007:case 10009:i=new c(p.THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT);break;case 10005:case 10006:i=new c(p.THREEDS_CARDINAL_SDK_BAD_CONFIG);break;case 10008:case 10010:i=new c(p.THREEDS_CARDINAL_SDK_BAD_JWT);break;case 10011:u.sendEvent(e._createPromise,"three-d-secure.verification-flow.canceled"),i=new c(p.THREEDS_CARDINAL_SDK_CANCELED);break;default:i=new c(p.THREEDS_CARDINAL_SDK_ERROR)}i.details={originalError:{code:t.ErrorNumber,description:t.ErrorDescription}},e._verifyCardPromisePlus.reject(i)}}},SongbirdFramework.prototype._checkForVerifyCardError=function(e,t){return e.bin?i.prototype._checkForVerifyCardError.call(this,e,t):new c({type:p.THREEDS_MISSING_VERIFY_CARD_OPTION.type,code:p.THREEDS_MISSING_VERIFY_CARD_OPTION.code,message:"verifyCard options must include a BIN."})},SongbirdFramework.prototype._checkForFrameworkSpecificVerifyCardErrors=function(e,t){var n;return"function"==typeof e.onLookupComplete||t.ignoreOnLookupCompleteRequirement||(n="an onLookupComplete function"),n},SongbirdFramework.prototype._formatVerifyCardOptions=function(e){var t=i.prototype._formatVerifyCardOptions.call(this,e),n=t.additionalInformation||{};return n=this.transformBillingAddress(n,e.billingAddress),n=this.transformShippingAddress(n),e.onLookupComplete&&(t.onLookupComplete=s(e.onLookupComplete)),e.email&&(n.email=e.email),e.mobilePhoneNumber&&(n.mobilePhoneNumber=e.mobilePhoneNumber),t.additionalInformation=n,t},SongbirdFramework.prototype._onLookupComplete=function(e,t){var n=this;return i.prototype._onLookupComplete.call(this,e).then(function(e){return new Promise(function(i,a){function next(){i(e)}e.requiresUserAuthentication=!!(e.lookup&&e.lookup.acsUrl),n._verifyCardPromisePlus.catch(a),t.onLookupComplete?t.onLookupComplete(e,next):n._emit(SongbirdFramework.events.LOOKUP_COMPLETE,e,next)})})},SongbirdFramework.prototype._presentChallenge=function(e){if(this._useV1Fallback||!e.lookup.transactionId){this._presentChallengeWithV1Fallback(e.lookup);return}window.Cardinal.continue("cca",{AcsUrl:e.lookup.acsUrl,Payload:e.lookup.pareq},{OrderDetails:{TransactionId:e.lookup.transactionId}})},SongbirdFramework.prototype._formatLookupData=function(e){var t=this;return i.prototype._formatLookupData.call(this,e).then(function(n){if(n.additionalInfo=e.additionalInformation,e.accountType&&(n.accountType=e.accountType),e.challengeRequested&&(n.challengeRequested=e.challengeRequested),e.requestedExemptionType){if(!v.includes(e.requestedExemptionType))throw new c({code:p.THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID.code,type:p.THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID.type,message:"requestedExemptionType `"+e.requestedExemptionType+"` is not a valid exemption. The accepted values are: `"+v.join("`, `")+"`"});n.requestedExemptionType=e.requestedExemptionType}return e.customFields&&(n.customFields=e.customFields),e.dataOnlyRequested&&(n.dataOnlyRequested=e.dataOnlyRequested),e.exemptionRequested&&(n.exemptionRequested=e.exemptionRequested),e.requestVisaDAF&&(n.requestVisaDAF=e.requestVisaDAF),e.bin&&(n.bin=e.bin),null!=e.cardAdd&&(n.cardAdd=e.cardAdd),null!=e.cardAddChallengeRequested&&(n.cardAdd=e.cardAddChallengeRequested),e.merchantName&&(n.merchantName=e.merchantName),t.prepareLookup(n)})},SongbirdFramework.prototype.cancelVerifyCard=function(e){var t=this;return i.prototype.cancelVerifyCard.call(this).then(function(n){return t._verifyCardPromisePlus&&(e=e||new c(p.THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT),t._verifyCardPromisePlus.reject(e)),n})},SongbirdFramework.prototype._removeSongbirdListeners=function(){this._cardinalEvents.forEach(function(e){window.Cardinal.off(e)}),this._cardinalEvents=[]},SongbirdFramework.prototype.teardown=function(){return window.Cardinal&&this._removeSongbirdListeners(),i.prototype.teardown.call(this)},SongbirdFramework.prototype._reloadThreeDSecure=function(){var e=this,t=Date.now();return e.teardown().then(function(){e._configureCardinalSdk({setupOptions:e.originalSetupOptions,setupStartTime:t})})},t.exports=SongbirdFramework},{"../../../lib/analytics":34,"../../../lib/assets":35,"../../../lib/assign":36,"../../../lib/braintree-error":38,"../../../lib/constants":39,"../../../lib/convert-to-braintree-error":41,"../../../lib/deferred":45,"../../../lib/enumerate":46,"../../shared/constants":63,"../../shared/errors":64,"./base":54,"@braintree/extended-promise":5}],61:[function(e,t,n){"use strict";var i=e("@braintree/wrap-promise"),a=e("../../lib/methods"),s=e("../../lib/convert-methods-to-error"),c=e("@braintree/event-emitter"),d=e("./frameworks");function ThreeDSecure(e){var t=this,n=d[e.framework];c.call(this),this._framework=new n(e),this._framework.setUpEventListeners(function(){t._emit.apply(t,arguments)})}c.createChild(ThreeDSecure),ThreeDSecure.prototype.verifyCard=function(e){var t;return this.hasListener("lookup-complete")&&(t={ignoreOnLookupCompleteRequirement:!0}),this._framework.verifyCard(e,t)},ThreeDSecure.prototype.initializeChallengeWithLookupResponse=function(e){return"string"==typeof e&&(e=JSON.parse(e)),this._framework.initializeChallengeWithLookupResponse(e)},ThreeDSecure.prototype.prepareLookup=function(e){return this._framework.prepareLookup(e).then(function(e){return JSON.stringify(e)})},ThreeDSecure.prototype.cancelVerifyCard=function(){return this._framework.cancelVerifyCard()},ThreeDSecure.prototype.teardown=function(){return s(this,a(ThreeDSecure.prototype).concat(a(c.prototype))),this._framework.teardown()},t.exports=i.wrapPrototype(ThreeDSecure)},{"../../lib/convert-methods-to-error":40,"../../lib/methods":51,"./frameworks":57,"@braintree/event-emitter":4,"@braintree/wrap-promise":14}],62:[function(e,t,n){"use strict";var i=e("./external/three-d-secure"),a=e("../lib/is-https").isHTTPS,s=e("../lib/basic-component-verification"),c=e("../lib/create-deferred-client"),d=e("../lib/create-assets-url"),u=e("../lib/braintree-error"),l=e("../lib/analytics"),p=e("./shared/errors"),f=e("@braintree/wrap-promise");t.exports={create:f(function(e){var t="3D Secure",n=function(e){var t=String(e.version||"");if(!t||"1"===t)throw new u({code:p.THREEDS_UNSUPPORTED_VERSION.code,type:p.THREEDS_UNSUPPORTED_VERSION.type,message:p.THREEDS_UNSUPPORTED_VERSION.message});switch(t){case"2":case"2-cardinal-modal":return"cardinal-modal";case"2-bootstrap3-modal":return"bootstrap3-modal";case"2-inline-iframe":return"inline-iframe";default:throw new u({code:p.THREEDS_UNRECOGNIZED_VERSION.code,type:p.THREEDS_UNRECOGNIZED_VERSION.type,message:"Version `"+e.version+"` is not a recognized version. You may need to update the version of your Braintree SDK to support this version."})}}(e);return s.verify({name:t,client:e.client,authorization:e.authorization}).then(function(){var s=d.create(e.authorization),f=c.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:s,name:t}).then(function(t){var i,s=t.getConfiguration(),c=s.gatewayConfiguration;return(e.client=t,c.threeDSecureEnabled||(i=p.THREEDS_NOT_ENABLED),"TOKENIZATION_KEY"===s.authorizationType&&(i=p.THREEDS_CAN_NOT_USE_TOKENIZATION_KEY),"production"!==c.environment||a()||(i=p.THREEDS_HTTPS_REQUIRED),"legacy"===n||c.threeDSecure&&c.threeDSecure.cardinalAuthenticationJWT||(l.sendEvent(e.client,"three-d-secure.initialization.failed.missing-cardinalAuthenticationJWT"),i=p.THREEDS_NOT_ENABLED_FOR_V2),i)?Promise.reject(new u(i)):(l.sendEvent(e.client,"three-d-secure.initialized"),t)}),m=new i({client:e.client,assetsUrl:s,createPromise:f,loggingEnabled:e.loggingEnabled,cardinalSDKConfig:e.cardinalSDKConfig,framework:n});return e.client?f.then(function(){return m}):m})}),VERSION:"3.97.2"}},{"../lib/analytics":34,"../lib/basic-component-verification":37,"../lib/braintree-error":38,"../lib/create-assets-url":42,"../lib/create-deferred-client":44,"../lib/is-https":48,"./external/three-d-secure":61,"./shared/errors":64,"@braintree/wrap-promise":14}],63:[function(e,t,n){"use strict";t.exports={LANDING_FRAME_NAME:"braintreethreedsecurelanding",CARDINAL_SCRIPT_SOURCE:{production:"https://songbird.cardinalcommerce.com/edge/v1/songbird.js",sandbox:"https://songbirdstag.cardinalcommerce.com/edge/v1/songbird.js"}}},{}],64:[function(e,t,n){"use strict";var i=e("../../lib/braintree-error");t.exports={THREEDS_NOT_ENABLED:{type:i.types.MERCHANT,code:"THREEDS_NOT_ENABLED",message:"3D Secure is not enabled for this merchant."},THREEDS_CAN_NOT_USE_TOKENIZATION_KEY:{type:i.types.MERCHANT,code:"THREEDS_CAN_NOT_USE_TOKENIZATION_KEY",message:"3D Secure can not use a tokenization key for authorization."},THREEDS_HTTPS_REQUIRED:{type:i.types.MERCHANT,code:"THREEDS_HTTPS_REQUIRED",message:"3D Secure requires HTTPS."},THREEDS_NOT_ENABLED_FOR_V2:{type:i.types.MERCHANT,code:"THREEDS_NOT_ENABLED_FOR_V2",message:"3D Secure version 2 is not enabled for this merchant. Contact Braintree Support for assistance at https://help.braintreepayments.com/"},THREEDS_UNRECOGNIZED_VERSION:{type:i.types.MERCHANT,code:"THREEDS_UNRECOGNIZED_VERSION"},THREEDS_CARDINAL_SDK_SETUP_FAILED:{type:i.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_SETUP_FAILED",message:"Something went wrong setting up Cardinal's Songbird.js library."},THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED:{type:i.types.NETWORK,code:"THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED",message:"Cardinal's Songbird.js library could not be loaded."},THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT:{type:i.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT",message:"Cardinal's Songbird.js took too long to setup."},THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT:{type:i.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT",message:"Cardinal's API took too long to respond."},THREEDS_CARDINAL_SDK_BAD_CONFIG:{type:i.types.MERCHANT,code:"THREEDS_CARDINAL_SDK_BAD_CONFIG",message:"JWT or other required field missing. Please check your setup configuration."},THREEDS_CARDINAL_SDK_BAD_JWT:{type:i.types.MERCHANT,code:"THREEDS_CARDINAL_SDK_BAD_JWT",message:"Cardinal JWT missing or malformed. Please check your setup configuration."},THREEDS_CARDINAL_SDK_ERROR:{type:i.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_ERROR",message:"A general error has occurred with Cardinal. See description for more information."},THREEDS_CARDINAL_SDK_CANCELED:{type:i.types.CUSTOMER,code:"THREEDS_CARDINAL_SDK_CANCELED",message:"Canceled by user."},THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT:{type:i.types.MERCHANT,code:"THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT",message:"3D Secure verfication canceled by merchant."},THREEDS_AUTHENTICATION_IN_PROGRESS:{type:i.types.MERCHANT,code:"THREEDS_AUTHENTICATION_IN_PROGRESS",message:"Cannot call verifyCard while existing authentication is in progress."},THREEDS_MISSING_VERIFY_CARD_OPTION:{type:i.types.MERCHANT,code:"THREEDS_MISSING_VERIFY_CARD_OPTION"},THREEDS_JWT_AUTHENTICATION_FAILED:{type:i.types.UNKNOWN,code:"THREEDS_JWT_AUTHENTICATION_FAILED",message:"Something went wrong authenticating the JWT from Cardinal"},THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR:{type:i.types.MERCHANT,code:"THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR",message:"Either the payment method nonce passed to `verifyCard` does not exist, or it was already consumed"},THREEDS_LOOKUP_VALIDATION_ERROR:{type:i.types.CUSTOMER,code:"THREEDS_LOOKUP_VALIDATION_ERROR",message:"The data passed in `verifyCard` did not pass validation checks. See details for more info"},THREEDS_LOOKUP_ERROR:{type:i.types.UNKNOWN,code:"THREEDS_LOOKUP_ERROR",message:"Something went wrong during the 3D Secure lookup"},THREEDS_INLINE_IFRAME_DETAILS_INCORRECT:{type:i.types.UNKNOWN,code:"THREEDS_INLINE_IFRAME_DETAILS_INCORRECT",message:"Something went wrong when attempting to add the authentication iframe to the page."},THREEDS_NO_VERIFICATION_PAYLOAD:{type:i.types.MERCHANT,code:"THREEDS_NO_VERIFICATION_PAYLOAD",message:"No verification payload available."},THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN:{type:i.types.INTERNAL,code:"THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN",message:"Term Url must be on a Braintree domain."},THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED:{type:i.types.INTERNAL,code:"THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED",message:"Method not implemented for this framework."},THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID:{type:i.types.MERCHANT,code:"THREEDS_REQUESTED_EXEMPTION_TYPE_INVALID",message:"Requested Exemption Type is invalid."},THREEDS_UNSUPPORTED_VERSION:{type:i.types.MERCHANT,code:"THREEDS_UNSUPPORTED_VERSION",message:"3D Secure `1` is deprecated and no longer supported. See available versions at https://braintree.github.io/braintree-web/current/module-braintree-web_three-d-secure.html#.create"}}},{"../../lib/braintree-error":38}],65:[function(e,t,n){"use strict";var i=e("../../lib/enumerate");t.exports=i(["AUTHENTICATION_COMPLETE"],"threedsecure:")},{"../../lib/enumerate":46}]},{},[62])(62)}}]);