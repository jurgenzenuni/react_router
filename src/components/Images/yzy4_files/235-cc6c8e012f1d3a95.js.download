"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{77534:function(e,n,i){var d=i(52903);i(2784);var a=i(28535),t=i(77533);n.Z=e=>{let{error:n}=e;return n?(0,d.tZ)(a.xu,{backgroundColor:"red.100",borderColor:"red.300",borderWidth:"2px",borderStyle:"solid",children:(0,d.tZ)(t.x,{padding:4,children:n})}):null}},90142:function(e,n,i){i.d(n,{Z:function(){return DynamicAddressForm_DynamicAddressForm}});var d=i(52903),a=i(2784),t=i(28535),s=i(74409),r=i(38035),l=i(90921),o=i(7328),m=i(51924),u=i(12007),c=i(49820),v=i(78928),k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetDynamicAddressFields"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"countryCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NamedType",name:{kind:"Name",value:"AddressType"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addressForm"},arguments:[{kind:"Argument",name:{kind:"Name",value:"countryCode"},value:{kind:"Variable",name:{kind:"Name",value:"countryCode"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rows"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeholder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRequired"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"meta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fieldOptions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"validations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pattern"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"patternMatchingStyle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:493,source:{body:"\n  query GetDynamicAddressFields($countryCode: String!, $type: AddressType) {\n    addressForm(countryCode: $countryCode, type: $type) {\n      rows {\n        fields {\n          key\n          label\n          placeholder\n          isRequired\n          meta {\n            fieldOptions {\n              key\n              name\n            }\n            validations {\n              pattern\n              patternMatchingStyle\n              message\n            }\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},useFetchDynamicAddressFields_useFetchDynamicAddressFields=(e,n)=>{let i=(0,u.Z)(),{data:d,isLoading:a}=(0,v.Z)(k,{enabled:!!e&&("SHIPPING"===n||"BILLING"===n),variables:{countryCode:e,type:n},select:e=>{var n;if(null==e?void 0:null===(n=e.addressForm)||void 0===n?void 0:n.rows)return{addressFormRows:e.addressForm.rows,addressFormFieldKeys:e.addressForm.rows.reduce((e,n)=>n.fields.reduce((e,n)=>(e.push(n.key),e),e),[])}},onError:()=>{i(c.EVENTS.DynamicAddressNetworkError)}});return{addressFormLoading:a,...d}},g=i(35103),S=i(3206),N=i(73481),p=i(29123),y=i(85573),h=i(13888),DynamicAddressField_DynamicAddressField=e=>{var n;let{fieldData:i,onFieldChange:a,value:t,error:s,index:r}=e;return(null===(n=i.meta)||void 0===n?void 0:n.fieldOptions)&&i.meta.fieldOptions.length>0?(""===t&&a(i.key,i.meta.fieldOptions[0].key),(0,d.BX)(g.NI,{isRequired:i.isRequired,ml:r>0?4:0,isInvalid:!!s,children:[(0,d.tZ)(S.l,{mb:1,children:i.label}),(0,d.tZ)(N.P,{value:t,onChange:e=>a(i.key,e.target.value),placeholder:i.placeholder,size:"lg",sx:h.u,children:i.meta.fieldOptions.map(e=>(0,d.tZ)("option",{value:e.key,children:e.name},e.key))}),s?(0,d.tZ)(p.J1,{children:s}):null]},i.key)):(0,d.BX)(g.NI,{isRequired:i.isRequired,ml:r>0?4:0,isInvalid:!!s,children:[(0,d.tZ)(S.l,{mb:1,children:i.label}),(0,d.tZ)(y.I,{type:s?"error":"base",placeholder:i.placeholder,value:t,onChange:e=>a(i.key,e.target.value),sx:h.u}),s?(0,d.tZ)(p.J1,{children:s}):null]},i.key)},DynamicAddressForm_DynamicAddressForm=e=>{let{reportChange:n,clearErrors:i,dynamicAddressFieldErrors:u,title:c,...v}=e,{shippingAddress:k,dynamicAddress:g}=(0,m.Z)(),{region:S}=(0,o.Z)(),generateNewDynamicAddress=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.reduce((e,i)=>("country"===i?e[i]=n[i]||(null==k?void 0:k.countryCodeAlpha2)||S||"":e[i]=n[i]||"",e),{})},[N,p]=(0,a.useState)({...g,country:(null==g?void 0:g.country)||(null==k?void 0:k.countryCodeAlpha2)||S||""}),{addressFormRows:y,addressFormFieldKeys:h}=useFetchDynamicAddressFields_useFetchDynamicAddressFields(N.country,"SHIPPING");(0,a.useEffect)(()=>{g&&p(g)},[g]),(0,a.useEffect)(()=>{n(N,"dynamic")},[N]),(0,a.useEffect)(()=>{h&&(i&&i(),p(generateNewDynamicAddress(h,N)))},[h,N.country]);let F=(0,a.useCallback)((e,n)=>{u&&delete u[e],"country"===e?p({firstName:null==N?void 0:N.firstName,lastName:null==N?void 0:N.lastName,firstNameFurigana:null==N?void 0:N.firstNameFurigana,lastNameFurigana:null==N?void 0:N.lastNameFurigana,[e]:n}):p({...N,[e]:n})},[N,u]);return y?(0,d.BX)(t.xu,{...v,children:[c&&(0,d.tZ)(s.X,{size:"xl",fontWeight:"600","data-component":"form-title",my:5,children:c}),y.map((e,n)=>(0,d.tZ)(r.k,{direction:"row",mt:1,children:e.fields.map((e,n)=>(0,d.tZ)(DynamicAddressField_DynamicAddressField,{fieldData:e,onFieldChange:F,value:N[e.key],error:null==u?void 0:u[e.key],index:n},e.key))},`form-row-${n}`))]}):(0,d.tZ)(t.xu,{mt:"10","data-component":"address-form",children:(0,d.tZ)(l.Q,{inline:!0})})}},5899:function(e,n,i){i.d(n,{Z:function(){return SuggestedDynamicAddressModal_SuggestedDynamicAddressModal}});var d=i(52903),a=i(2784),t=i(70268),s=i(96942),r=i(77533),l=i(28535),o=i(62614),m=i(60813),u=i(12007),c=i(63409),v=i(19786),k=i(49820),g=i(668),S=i(85941),N=i(19670),p=i(51232),y=i(86627),h=i(46202),F=i(82713);let f=(0,h.m)(r.x,{baseStyle:{lineHeight:"1rem",color:"neutral.500",whiteSpace:"pre-line"}}),_=(0,h.m)(r.x,{baseStyle:{lineHeight:"1.1rem",color:"neutral.black",whiteSpace:"pre-line"}}),E=(0,h.m)("div",{baseStyle:{display:"flex",flexDirection:"row",justifyContent:"flex-start",flexWrap:"wrap",width:"100%"}}),b=(0,h.m)("div",{baseStyle:{height:{base:"auto",md:"140px"},overflow:"auto",width:{base:"100%",md:"calc(50% - 8px)"},backgroundColor:"neutral.100",borderColor:"neutral.black",borderWidth:"1px",borderStyle:"solid",p:"10px",m:"4px"}}),D=(0,h.m)(F.X,{baseStyle:{float:"right",ml:"4px"}}),A=(0,h.m)(F.X,{baseStyle:{float:"right",ml:"4px",input:{_checked:{pointerEvents:"none"}}}});var AddressOption=e=>{let{addressText:n,isSelected:i,onClick:a,showEmptyCheckbox:t=!1}=e;return(0,d.BX)(b,{onClick:a,children:[i?(0,d.tZ)(A,{defaultChecked:!0,isChecked:!0}):t&&(0,d.tZ)(D,{}),(0,d.tZ)(_,{fontSize:"md",children:n})]})},Z=i(32981),C=i(92139),O=i(73751),w=i(54326),x=i(2338),T=i(97217),B=i(50250),I=i(44517),G=i(55199);let DrawerOrModal=e=>{let{isOpen:n,onClose:i,children:t}=e,{isMobile:r}=(0,s.EN)();return r?(0,d.BX)(Z.d,{isOpen:n,onClose:()=>i(),closeOnOverlayClick:!1,placement:"bottom",children:[(0,d.tZ)(C.Z,{}),(0,d.BX)(O.s,{maxH:"80%",children:[(0,d.tZ)(w.x,{children:a.Children.map(t,e=>"Header"===e.type.displayName&&a.cloneElement(e))}),(0,d.tZ)(x.o,{}),(0,d.tZ)(T.f,{children:a.Children.map(t,e=>"Body"===e.type.displayName&&a.cloneElement(e))}),(0,d.tZ)(B.m,{justifyContent:"center",flexDirection:"column",children:a.Children.map(t,e=>"Footer"===e.type.displayName&&a.cloneElement(e))})]})]}):(0,d.BX)(I.u_l,{isOpen:n,onClose:()=>i(),closeOnOverlayClick:!1,isCentered:!0,scrollBehavior:"inside",children:[(0,d.tZ)(C.Z,{}),(0,d.BX)(G.h,{children:[(0,d.tZ)(w.x,{children:a.Children.map(t,e=>"Header"===e.type.displayName&&a.cloneElement(e))}),(0,d.tZ)(x.o,{}),(0,d.tZ)(T.f,{children:a.Children.map(t,e=>"Body"===e.type.displayName&&a.cloneElement(e))}),(0,d.tZ)(B.m,{children:a.Children.map(t,e=>"Footer"===e.type.displayName&&a.cloneElement(e))})]})]})};DrawerOrModal.Header=e=>{let{children:n}=e;return(0,d.tZ)(d.HY,{children:n})},DrawerOrModal.Header.displayName="Header",DrawerOrModal.Body=e=>{let{children:n}=e;return(0,d.tZ)(d.HY,{children:n})},DrawerOrModal.Body.displayName="Body",DrawerOrModal.Footer=e=>{let{children:n}=e;return(0,d.tZ)(d.HY,{children:n})},DrawerOrModal.Footer.displayName="Footer";var SuggestedDynamicAddressModal_SuggestedDynamicAddressModal=e=>{let{isOpen:n,suggestions:i,submitSuggestedAddress:h,dismissSuggestions:F,enteredAddress:_,eventCategory:b,isAddressOverrideable:D=!1,submitOverrideAddress:A=()=>null}=e,Z="ENTERED_ADDRESS",C=(null==i?void 0:i.length)>0,{trackSegmentEvent:O,trackSegmentScreen:w}=(0,N.Z)(),{isMobile:x}=(0,s.EN)(),{action:T}=(0,p.Z)(),B=T===y.t.Buy?"Buy Now":"Place Bid",I=!!D,{t:G}=(0,m.$G)(),[R,M]=(0,a.useState)("0");(0,a.useEffect)(()=>{M(C?"0":Z)},[C]);let H=(0,u.Z)(),V=(0,a.useMemo)(()=>b===c.a.BuyingShipping?{[v.T.cgPageType]:B}:{},[B,b]);(0,t.Z)(()=>{w({pageType:g.Z.SUGGESTED_ADDRESS,type:(null==i?void 0:i.length)>0?"suggested":"override",value:i.length})});let P=R===Z,X="";X=G(!C&&I?"suggested_address_modal_submit_entered_button_override_only":P?"suggested_address_modal_submit_entered_button":"suggested_address_modal_submit_button");let q="";q=C&&!I?"No option to Over ride the suggested address":C&&I?"Option to either select one of the Suggested Address or Over ride":"Only Over Ride option\xa0and no Suggested Address";let z=(0,a.useCallback)(e=>{H(e,b,q,C?null==i?void 0:i.length:0,V),O({eventName:S.Z.CLOSE_CLICKED,screenName:g.Z.SUGGESTED_ADDRESS,type:C?"suggestion":"override"}),F()},[F,b,q,V,H,O,null==i?void 0:i.length,C]),handleSuggestionClick=e=>{C&&H(k.EVENTS.AddressCheckboxSelected,b,q,0,V),R!==e&&(O({eventName:S.Z.SUGGESTED_ADDRESS_ACTION,screenName:g.Z.SUGGESTED_ADDRESS,type:e===Z?"override":"suggestion"}),M(e))};return(0,d.BX)(DrawerOrModal,{isOpen:n??(C||I),onClose:()=>z(k.EVENTS.UseSuggestedAddressCancelClick),children:[(0,d.tZ)(DrawerOrModal.Header,{children:G(C?"suggested_address_modal_heading":"suggested_address_modal_heading_override")}),(0,d.BX)(DrawerOrModal.Body,{children:[(0,d.tZ)(r.x,{fontSize:"sm",textAlign:"left",mb:4,children:G(C&&!P?"suggested_address_modal_subheading":"suggested_address_modal_subheading_override")}),(0,d.tZ)(r.x,{fontSize:"md",fontWeight:"bold",children:G(C?"suggested_address_modal_you_entered":"suggested_address_modal_you_entered_override")}),I?(0,d.tZ)(AddressOption,{addressText:_,isSelected:C&&P,showEmptyCheckbox:C,onClick:()=>handleSuggestionClick(Z)}):(0,d.tZ)(f,{fontSize:"sm",children:_}),C&&(0,d.BX)(l.xu,{display:"flex",flexDirection:"row",justifyContent:"flex-start",mt:4,children:[(0,d.tZ)(r.x,{fontSize:"md",fontWeight:"bold",display:"block",children:G("suggested_address_modal_suggested")}),(0,d.tZ)(r.x,{fontSize:"xs",color:"neutral.400",ml:2,children:G("suggested_address_modal_suggested_subtext")})]}),(0,d.tZ)(E,{children:i.map((e,n)=>(0,d.tZ)(AddressOption,{addressText:e.formatted.raw.display,isSelected:R===`${n}`,onClick:()=>handleSuggestionClick(`${n}`),showEmptyCheckbox:!0},n))})]}),(0,d.BX)(DrawerOrModal.Footer,{children:[(0,d.tZ)(o.z,{variant:"primary",onClick:()=>{if(!C&&I){A(),H(k.EVENTS.ProceedWithEnteredAddressButtonClicked,b,q,0,V);return}if(P){A(),H(k.EVENTS.UseEnteredAddress,b,q,null==i?void 0:i.length,V);return}H(k.EVENTS.UseSuggestedAddressClick,b,q,+R+1,V),h(i[R].address,i[R].addressToken)},children:X}),!C&&I&&(0,d.tZ)(o.z,{mt:x?1:3,variant:"link-underline",onClick:()=>z(k.EVENTS.BackToEditButtonClicked),children:G("suggested_address_modal_edit_button_override")})]})]})}},89690:function(e,n,i){i.d(n,{Z:function(){return useSubmitDynamicAddress_useSubmitDynamicAddress}});var d=i(2784),a=i(33379),t=i(55830),s=i(12007),r=i(63409),l=i(19786),o=i(49820),m=i(44969),u=i(85941),c=i(668),v=i(77672),k=i(86627),g=i(38940),S=i(64157),N={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitDynamicAddress"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NamedType",name:{kind:"Name",value:"SaveAddressInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"saveAddress"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shipping"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"formatted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"raw"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address1"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address2"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"region"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"display"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"parsed"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address1"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address2"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"region"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"display"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"suggestions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"formatted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"raw"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address1"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address2"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"region"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"display"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"parsed"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address1"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address2"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"region"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postalCode"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"display"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"addressToken"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"genericError"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fieldErrors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"meta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"input"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"forceOverrideToken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shipping"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"formatted"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"raw"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"display"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1891,source:{body:"\n  mutation SubmitDynamicAddress($input: SaveAddressInput) {\n    saveAddress(input: $input) {\n      shipping {\n        address {\n          fields {\n            key\n            value\n          }\n        }\n        formatted {\n          raw {\n            address {\n              firstName\n              lastName\n              address1\n              address2\n              city\n              region\n              country\n              postalCode\n              phone\n            }\n            display\n          }\n          parsed {\n            address {\n              firstName\n              lastName\n              address1\n              address2\n              city\n              region\n              country\n              postalCode\n              phone\n            }\n            display\n          }\n        }\n      }\n      suggestions {\n        address {\n          fields {\n            key\n            value\n          }\n        }\n        formatted {\n          raw {\n            address {\n              firstName\n              lastName\n              address1\n              address2\n              city\n              region\n              country\n              postalCode\n            }\n            display\n          }\n          parsed {\n            address {\n              firstName\n              lastName\n              address1\n              address2\n              city\n              region\n              country\n              postalCode\n            }\n            display\n          }\n        }\n        addressToken\n      }\n      errors {\n        genericError {\n          title\n          description\n        }\n        fieldErrors {\n          key\n          message\n        }\n      }\n      meta {\n        input {\n          forceOverrideToken\n          shipping {\n            formatted {\n              raw {\n                display\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},useSubmitDynamicAddress_useSubmitDynamicAddress=e=>{let{action:n}=e,i=(0,S.I0)(),p=(0,t.NL)(),y=(0,s.Z)(),[h,F]=(0,a.D)(N),f=n===k.t.Buy?"Buy Now":"Place Bid",_=(0,d.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>null,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>null,a=arguments.length>3?arguments[3]:void 0,t=a===r.a.BuyingShipping?{[l.T.cgPageType]:f}:{};(0,m.Z)(u.Z.SHIPPING_ADDRESS_CHANGED,{value:JSON.stringify(e),screenName:c.Z.SHIPPING}),h({variables:{input:e},onCompleted:e=>{var s,r,l,m,u,c,v,k,S,N,h,F;let f=(null==e?void 0:null===(l=e.saveAddress)||void 0===l?void 0:null===(r=l.meta)||void 0===r?void 0:null===(s=r.input)||void 0===s?void 0:s.forceOverrideToken)!=null,_=(null==e?void 0:null===(m=e.saveAddress)||void 0===m?void 0:m.suggestions)&&e.saveAddress.suggestions.length>0,E=!!f,b="";if(b=_&&!E?"No option to Over ride the suggested address":_&&E?"Option to either select one of the Suggested Address or Over ride":"Only Over Ride option\xa0and no Suggested Address",_?y(o.EVENTS.SuggestedAddressError,a,b,e.saveAddress.suggestions.length,t):E&&y(o.EVENTS.SuggestedAddressError,a,b,0,t),null==e?void 0:null===(u=e.saveAddress)||void 0===u?void 0:u.errors){d(e.saveAddress.errors,(null===(N=e.saveAddress.meta)||void 0===N?void 0:null===(S=N.input)||void 0===S?void 0:null===(k=S.shipping)||void 0===k?void 0:null===(v=k.formatted)||void 0===v?void 0:null===(c=v.raw)||void 0===c?void 0:c.display)||"",e.saveAddress.suggestions,!!(null===(F=e.saveAddress.meta)||void 0===F?void 0:null===(h=F.input)||void 0===h?void 0:h.forceOverrideToken));return}p.invalidateQueries(["GetDynamicShippingAddress"]),i((0,g.pi)()),n()},onError:e=>{(0,m.Z)(u.Z.CLIENT_SIDE_ERROR,{type:v.Z.NETWORK,screenName:c.Z.SHIPPING,errorMessage:null==e?void 0:e.message})}})},[f,m.Z,h,p,y]);return{submitDynamicAddress:_,mutate:h,...F}}},77672:function(e,n){var i,d;(d=i||(i={})).NETWORK="network",d.INLINE="inline",d.GENERIC="generic",n.Z=i}}]);