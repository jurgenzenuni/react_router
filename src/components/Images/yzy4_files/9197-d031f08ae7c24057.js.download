"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9197],{98964:function(e,i,n){var t,a;n.d(i,{o:function(){return t}}),(a=t||(t={}))["drc.home.standard"]="drc.home.standard",a["drc.catalog.browse"]="drc.catalog.browse",a["drc.catalog.browse.2.0"]="drc.catalog.browse.2.0",a["drc.catalog.search"]="drc.catalog.search",a["drc.catalog.releases"]="drc.catalog.releases",a["drc.pdp.standard"]="drc.pdp.standard",a["drc.product-suggestion"]="drc.product-suggestion",a["chk.checkout.buy"]="chk.checkout.buy",a["chk.checkout.sell"]="chk.checkout.sell",a["chk.settings.buying"]="chk.settings.buying",a["chk.settings.selling"]="chk.settings.selling",a["chk.settings.shipping"]="chk.settings.shipping",a["chk.settings.payout"]="chk.settings.payout",a["chk.settings.verify-payout"]="chk.settings.verify-payout",a["chk.portfolio.detail"]="chk.portfolio.detail",a["chk.settings.citcon"]="chk.settings.citcon",a["chk.settings.regulatory"]="chk.settings.regulatory",a["ist.auth-error"]="ist.auth-error",a["ist.gdpr"]="ist.gdpr",a["ist.auth.reset-password"]="ist.auth.reset-password",a["ist.auth.signout"]="ist.auth.signout",a["ist.auth.social-confirm"]="ist.auth.social-confirm",a["ist.nft-news-signup"]="ist.nft-news-signup",a["sell.shipment.create"]="sell.shipment.create",a["sell.shipment.edit"]="sell.shipment.edit",a["growth.unsubscribe"]="growth.unsubscribe",a["growth.charity-list"]="growth.charity-list",a["growth.landing.promo"]="growth.landing.promo",a["growth.most-popular"]="growth.most-popular",a["growth.countdown"]="growth.countdown",a["growth.sms"]="growth.sms",a["growth.checkout-prize"]="growth.checkout-prize",a["growth.referral.friends"]="growth.referral.friends",a["account.account"]="account.account",a["account.buying"]="account.buying",a["account.selling"]="account.selling",a["account.following"]="account.following",a["account.favorites"]="account.favorites",a["account.portfolio"]="account.portfolio",a["account.profile.view"]="account.profile.view",a["account.profile.edit"]="account.profile.edit",a["account.settings"]="account.settings",a["account.security"]="account.security",a["account.settings.profile"]="account.settings.profile",a["account.message-center"]="account.message-center",a["account.debug"]="account.debug-menu",a["account.referral.advocate"]="account.referral.advocate",a["account.wallet"]="account.wallet",a["brochure.accessibility-statement"]="brochure.accessibility-statement",a["brochure.available-countries"]="brochure.available-countries",a["brochure.cookies"]="brochure.cookies",a["brochure.data-processors"]="brochure.data-processors",a["brochure.error.404"]="brochure.error.404",a["brochure.impressum"]="brochure.impressum",a["brochure.tokutei"]="brochure.tokutei",a["brochure.localization-settings"]="brochure.localization-settings",a["brochure.privacy"]="brochure.privacy",a["brochure.terms"]="brochure.terms",a["brochure.supplier-code-of-conduct"]="brochure.supplier-code-of-conduct",a["brochure.sms-tos"]="brochure.sms-tos",a["brochure.referral-tos"]="brochure.referral-tos"},54158:function(e,i,n){var t,a;n.d(i,{T:function(){return t}}),(a=t||(t={})).Buy="buy",a.Sell="sell"},66844:function(e,i,n){n.d(i,{T:function(){return t}});let t={STANDARD:"STANDARD",VAULT:"VAULT",EXPRESS:"EXPRESS"}},90808:function(e,i,n){var t=n(77977);i.Z=()=>{let e=(0,t.Z)();return(null==e?void 0:e.pathname.includes("/buy"))||(null==e?void 0:e.pathname.includes("/sell"))}},8603:function(e,i){i.Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EuVat"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"taxes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"euVAT"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isExpired"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:121,source:{body:"\n  query EuVat {\n    viewer {\n      taxes {\n        euVAT {\n          id\n          isExpired\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}}},36701:function(e,i,n){n.d(i,{Z:function(){return useRegulatoryId_useRegulatoryId}});var t=n(67595),a=n(61165),r=n(47850),o=n(2784),d=n(40794),u=n(33379);let isValidCcic=e=>!!e&&13===e.length&&("P"===e[0]||"p"===e[0])&&Number.isInteger(Number(e.substring(1))),isValidQatarId=e=>!!e&&11===e.length&&Number.isInteger(Number(e)),obfuscateIdCode=e=>e&&e.replace(/.(?=.{4,}$)/g,"*");var l=n(60813),c=n(21714),s=n(89565),m=n(77977),v=n(85966),k=n(82052),p=n(90752),g=n(54158),y=n(51924),h=n(76368),f=n(39131),S={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FetchRegulatoryIds"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"countryCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"compliance"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"regulatoryIds"},arguments:[{kind:"Argument",name:{kind:"Name",value:"countryCode"},value:{kind:"Variable",name:{kind:"Name",value:"countryCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"regIdUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idValue"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:260,source:{body:"\n  query FetchRegulatoryIds($countryCode: String!) {\n    viewer {\n      compliance {\n        regulatoryIds(countryCode: $countryCode) {\n          regIdUuid\n          userUuid\n          countryCode\n          idType\n          idValue\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},b={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateChkRegulatoryId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"countryCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idValue"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createIdentificationNumber"},arguments:[{kind:"Argument",name:{kind:"Name",value:"idInput"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"countryCode"},value:{kind:"Variable",name:{kind:"Name",value:"countryCode"}}},{kind:"ObjectField",name:{kind:"Name",value:"idType"},value:{kind:"Variable",name:{kind:"Name",value:"idType"}}},{kind:"ObjectField",name:{kind:"Name",value:"idValue"},value:{kind:"Variable",name:{kind:"Name",value:"idValue"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"regIdUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idValue"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:317,source:{body:"\n  mutation CreateChkRegulatoryId(\n    $countryCode: String!\n    $idType: String!\n    $idValue: String!\n  ) {\n    createIdentificationNumber(\n      idInput: { countryCode: $countryCode, idType: $idType, idValue: $idValue }\n    ) {\n      regIdUuid\n      userUuid\n      countryCode\n      idType\n      idValue\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},N={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateRegulatoryId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"regIdUuid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idInput"}},type:{kind:"NamedType",name:{kind:"Name",value:"IdParameterInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIdentificationNumber"},arguments:[{kind:"Argument",name:{kind:"Name",value:"regIdUuid"},value:{kind:"Variable",name:{kind:"Name",value:"regIdUuid"}}},{kind:"Argument",name:{kind:"Name",value:"idInput"},value:{kind:"Variable",name:{kind:"Name",value:"idInput"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"regIdUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userUuid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idValue"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:243,source:{body:"\n  mutation UpdateRegulatoryId($regIdUuid: String!, $idInput: IdParameterInput) {\n    updateIdentificationNumber(regIdUuid: $regIdUuid, idInput: $idInput) {\n      regIdUuid\n      userUuid\n      countryCode\n      idType\n      idValue\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},I={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateEUVATID"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateEUVATID"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isExpired"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:106,source:{body:"\n  mutation UpdateEUVATID($id: String!) {\n    updateEUVATID(id: $id) {\n      id\n      isExpired\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},C=n(8603),useRegulatoryId_useRegulatoryId=()=>{var e,i,n,T,V,w,A,D,E,F,_,U,R,x,P,B,O,Z,q,M;let $;let Q=(0,t.Z)(),z=(0,a.Z)(),{shippingAddress:L}=(0,y.Z)(),j=(0,p.Z)(),G=(0,s.Z)(),{setStep:X}=(0,f.Z)(),K=(0,m.Z)(),H=(0,v.Z)(),[W,Y]=(0,o.useState)(""),[J,ee]=(0,o.useState)(!1),[ei,en]=(0,o.useState)(!1),{updateCustomer:et}=(0,c.Z)({setError:Y,setLoading:ee}),ea="true"===(0,h.Z)("feature_mexico_rfc_id_web"),[er,eo]=(0,o.useState)(""),{t:ed}=(0,l.$G)(),{userInEU:eu}=(0,r.Z)(),el=(null==L?void 0:L.countryCodeAlpha2)==="MX",ec=(null==L?void 0:L.countryCodeAlpha2)==="QA",es=(null==L?void 0:L.countryCodeAlpha2)==="KR",{data:em,loading:ev}=(0,d.a)(C.Z,{variables:{},skip:Q&&!eu||!Q,fetchPolicy:"no-cache"}),{data:ek,loading:ep,error:eg}=(0,d.a)(S,{variables:{countryCode:null==L?void 0:L.countryCodeAlpha2},skip:!(null==L?void 0:L.countryCodeAlpha2)||!el&&Q,fetchPolicy:"no-cache"}),[ey,{data:eh,loading:ef,error:eS}]=(0,u.D)(I),[eb,{data:eN,loading:eI,error:eC}]=(0,u.D)(N),[eT,{data:eV,loading:ew,error:eA}]=(0,u.D)(b);(0,o.useEffect)(()=>{ef||eI||ew?en(!0):en(!1)},[ef,eI,ew]),(0,o.useEffect)(()=>{ep||ev?ee(!0):ee(!1)},[ev,ep]),(0,o.useEffect)(()=>{if(eS&&Y("eu_vat_generic_error"),eC||eA){var e,i;Y(null==eC?void 0:null===(i=eC.graphQLErrors[0])||void 0===i?void 0:null===(e=i.extensions)||void 0===e?void 0:e.payload)}eg&&Y("regulatory_id_error")},[eg,eS,eC,eA]),eu&&($={country:null==L?void 0:L.countryCodeAlpha2,countryCode:null==L?void 0:L.countryCodeAlpha2,idValue:(null==eh?void 0:null===(e=eh.updateEUVATID)||void 0===e?void 0:e.id)||(null==em?void 0:null===(T=em.viewer)||void 0===T?void 0:null===(n=T.taxes)||void 0===n?void 0:null===(i=n.euVAT)||void 0===i?void 0:i.id)||ed("eu_vat_empty"),idType:"VAT ID",canSkip:!0,isExpired:(null==eh?void 0:null===(V=eh.updateEUVATID)||void 0===V?void 0:V.isExpired)||(null==em?void 0:null===(D=em.viewer)||void 0===D?void 0:null===(A=D.taxes)||void 0===A?void 0:null===(w=A.euVAT)||void 0===w?void 0:w.isExpired),name:"VAT ID",reason:"eu_vat_subheader",required:!1}),el&&j===g.T.Sell&&($={country:"Mexico",countryCode:"MX",idType:"RFC ID",canSkip:!0,idValue:(null==eV?void 0:null===(E=eV.createIdentificationNumber)||void 0===E?void 0:E.idValue)||(null==eN?void 0:null===(F=eN.updateIdentificationNumber)||void 0===F?void 0:F.idValue)||(null==ek?void 0:null===(x=ek.viewer)||void 0===x?void 0:null===(R=x.compliance)||void 0===R?void 0:null===(U=R.regulatoryIds)||void 0===U?void 0:null===(_=U[0])||void 0===_?void 0:_.idValue),name:"Mexico ID",reason:"regulatory_rfc_reason",regIdUuid:null==ek?void 0:null===(Z=ek.viewer)||void 0===Z?void 0:null===(O=Z.compliance)||void 0===O?void 0:null===(B=O.regulatoryIds)||void 0===B?void 0:null===(P=B[0])||void 0===P?void 0:P.regIdUuid,required:!1}),es&&($={code:"ccicId",country:"South Korea",countryCode:"KR",idType:"CCIC",idValue:obfuscateIdCode(null==z?void 0:null===(q=z.Meta)||void 0===q?void 0:q.ccicId),name:"CCIC",reason:"regulatory_ccic_reason",required:!0,canSkip:!1}),ec&&($={code:"qatarId",country:"Qatar",countryCode:"QA",idType:"Qatar ID",idValue:obfuscateIdCode(null==z?void 0:null===(M=z.Meta)||void 0===M?void 0:M.qatarId),name:"Qatar ID",reason:"regulatory_qatarid_reason",required:!0,canSkip:!1});let eD=(0,o.useMemo)(()=>{var e;return{pathname:(null==K?void 0:null===(e=K.state)||void 0===e?void 0:e.prevPath)??G("/settings"),state:{prevPath:G("/settings/regulatory")}}},[G]),eE=(0,o.useCallback)(()=>{if(j===g.T.Buy){X(null===k.j||void 0===k.j?void 0:k.j.BidEntry);return}H.push(eD)},[j,H,eD,X]),eF=(0,o.useCallback)(async e=>{if(z&&(er||eu||Y("field_required"),el&&(null==$?void 0:$.idValue)&&eb({variables:{regIdUuid:null==$?void 0:$.regIdUuid,idInput:{countryCode:null==L?void 0:L.countryCodeAlpha2,idType:"RFC",idValue:er}},onCompleted:eE}),!el||(null==$?void 0:$.idValue)||eT({variables:{countryCode:null==L?void 0:L.countryCodeAlpha2,idType:"RFC",idValue:er},onCompleted:eE}),eu&&er&&ey({variables:{id:er},onCompleted:eE}),eu&&!er&&eE(),es||ec)){if(es&&!isValidCcic(er)){Y("invalid_ccic_error");return}if(ec&&!isValidQatarId(er)){Y("qatar_id_invalid_error");return}en(!0);let{id:i,firstName:n,lastName:t,username:a,defaultSize:r,defaultCurrency:o,email:d,Meta:u}=z;await et(i,{Customer:{firstname:n,lastname:t,username:a,defaultSize:r,defaultCurrency:o,email:d,Meta:{...u,[null==$?void 0:$.code]:er}}}),en(!1),e?e():eE()}},[eT,z,er,eE,null==$?void 0:$.code,null==$?void 0:$.idValue,null==$?void 0:$.regIdUuid,et,ey,eb,eu,es,el,ec,L]);return(0,o.useMemo)(()=>({handleCancel:eE,...ea&&{handleUpdateId:eF},loading:J,idError:W,regulatoryIdConfig:$,setTempId:eo,tempId:er,updatingId:ei}),[eE,eF,J,W,$,eo,er,ei])}},68082:function(e,i,n){var t=n(2784),a=n(7903),r=n(86627),o=n(66844),d=n(30518);let u={state:{discountCode:"",pricing:a.Z,action:r.t.Buy,step:null,amount:0,bidAmount:0,error:null,expiration:30,deliveryMethod:o.T.STANDARD,marketState:d.Z},dispatch:()=>null},l=(0,t.createContext)(u);l.displayName="CheckoutContext",i.Z=l},30518:function(e,i){i.Z={highestBid:{amount:0},lowestAsk:{amount:0},numberOfAsks:0,numberOfBids:0}},7903:function(e,i,n){var t=n(48290);let a={context:"",discountCode:"",pricingError:"",flow:"",pricingLoading:!1,pricing:{adjustments:[],payout_enabled:!0,subtotal:0,total:0,estimated:!1,shippingType:t.r.STANDARD,flags:{allIn:!1,ddpEnabled:!1},totalUSD:0,fetching:!1},productName:"",productUUID:"",success:!1,skuUUID:"",vertical:""};i.Z=a},48290:function(e,i,n){var t,a;n.d(i,{r:function(){return t}}),(a=t||(t={})).STANDARD="normal",a.EXPRESS="express"},82052:function(e,i,n){var t,a,r,o;n.d(i,{$A:function(){return g},Go:function(){return m},Jf:function(){return s},Ng:function(){return k},_o:function(){return u},gM:function(){return v},j:function(){return a},ku:function(){return y},qB:function(){return l},qK:function(){return t},r2:function(){return c},tl:function(){return d},wu:function(){return p}});let d="SET_PRICING",u="SET_ACTION",l="SET_STEP",c="SET_AMOUNT",s="SET_BID_AMOUNT",m="SET_ERROR",v="SET_DISCOUNT_CODE",k="SET_EXPIRATION",p="SET_DELIVERY_METHOD",g="SET_MARKET_STATE";(r=t||(t={})).SizeSelectorPage="Size Selector Page",r.SizeChartPage="Size Chart Page",r.BuyNowForm="Buy Now Form",r.PlaceBidForm="Place Bid Form",r.ReviewPurchaseScreen="Review Purchase Screen",r.ReviewBidScreen="Review Bid Screen",r.ShippingInfoScreen="Shipping Info Screen",r.BillingInfoScreen="Billing Info Screen",r.HowItWorks="How It Works",r.InternationalNotAllowed="International Not Allowed",r.LockedAction="Locked Action",r.BuyingForm="Buying Form",r.BuyingConfirm="Buying Confirm",r.MFARequired="MFA Required",(o=a||(a={})).SizeSelect="Checkout Size Select",o.BidEntry="Checkout Bid Entry",o.Billing="Checkout Billing",o.Shipping="Checkout Shipping",o.DiscountCodes="Checkout Discount Codes",o.RegulatoryId="Checkout Regulatory Id",o.Review="Checkout Review",o.Success="Checkout Success";let y={en:"http://stockx.com/news/vat-registration",de:"http://stockx.com/news/de-de/vat-registration-de",it:"http://stockx.com/news/it-it/vat-registration-it",fr:"http://stockx.com/news/fr-fr/vat-registration-fr"}},45679:function(e,i,n){var t,a,r,o;n.d(i,{SS:function(){return t},Yc:function(){return d},if:function(){return a}}),(r=t||(t={})).SellNowForm="Sell Now Form",r.PlaceAskForm="Place Ask Form",(o=a||(a={})).SizeSelect="Sell Size Select",o.AmountEntry="Sell Amount Entry",o.Payment="Sell Payment",o.Payout="Sell Payout",o.Confirm="Sell Confirm",o.Success="Sell Success",o.Taxes="Sell Regulatory",o.Shipping="Sell Shipping Form";let d="xa3iod9eksl033ondoapceed"},23193:function(e,i,n){var t=n(7903),a=n(45679),r=n(86627),o=n(2784);let d={pricing:t.Z,action:r.t.Sell,amount:0,step:a.if.AmountEntry,error:null,selectedProduct:null,discountCode:""},u=(0,o.createContext)({state:d,dispatch:()=>null});u.displayName="SellContext",i.Z=u}}]);